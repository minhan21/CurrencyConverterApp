11bcd08944628ca9f908e0dca89370ad
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _ListMetricsAggregator = _interopRequireDefault(require("./ListMetricsAggregator"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizedListProps = require("./VirtualizedListProps");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["onContentSizeChange"];
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._cellRefs = {};
    _this._listMetrics = new _ListMetricsAggregator.default();
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._pendingViewabilityUpdate = false;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        var onContentSizeChange = props.onContentSizeChange,
          otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
        return (0, _jsxRuntime.jsx)(_reactNative.View, _objectSpread({}, otherProps));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread(_objectSpread({}, props), {}, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, cellIndex) {
      var layoutHasChanged = _this._listMetrics.notifyCellLayout({
        cellIndex: cellIndex,
        cellKey: cellKey,
        layout: e.nativeEvent.layout,
        orientation: _this._orientation()
      });
      if (layoutHasChanged) {
        _this._scheduleCellsToRenderUpdate();
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellFocusCapture = function (cellKey) {
      _this._lastFocusedCellKey = cellKey;
      _this._updateCellsToRender();
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      _this._listMetrics.notifyCellUnmounted(cellKey);
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      _this._listMetrics.notifyListContentLayout({
        layout: {
          width: width,
          height: height
        },
        orientation: _this._orientation()
      });
      _this._maybeScrollToInitialScrollIndex(width, height);
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._listMetrics.getContentLength();
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._offsetFromScrollEvent(e);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._listMetrics.getContentLength() === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this._listMetrics.getCellMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this._listMetrics.getCellMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._listMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      this.scrollToOffset({
        animated: animated,
        offset: offset
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._listMetrics.getHighestMeasuredCellIndex()) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._listMetrics.getAverageCellLength(),
          highestMeasuredFrameIndex: this._listMetrics.getHighestMeasuredCellIndex(),
          index: index
        });
        return;
      }
      var frame = this._listMetrics.getCellMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._listMetrics.getCellOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      this.scrollToOffset({
        offset: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var index = 0; index < itemCount; index++) {
        if (getItem(data, index) === item) {
          this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
            index: index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      var scrollRef = this._scrollRef;
      if (scrollRef == null) {
        return;
      }
      if (scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      var _this$_orientation = this._orientation(),
        horizontal = _this$_orientation.horizontal,
        rtl = _this$_orientation.rtl;
      if (horizontal && rtl && !this._listMetrics.hasContentLength()) {
        console.warn('scrollToOffset may not be called in RTL before content is laid out');
        return;
      }
      scrollRef.scrollTo(_objectSpread({
        animated: animated
      }, this._scrollToParamsFromOffset(offset)));
    }
  }, {
    key: "_scrollToParamsFromOffset",
    value: function _scrollToParamsFromOffset(offset) {
      var _this$_orientation2 = this._orientation(),
        horizontal = _this$_orientation2.horizontal,
        rtl = _this$_orientation2.rtl;
      if (horizontal && rtl) {
        var cartOffset = this._listMetrics.cartesianOffset(offset + this._scrollMetrics.visibleLength);
        return horizontal ? {
          x: cartOffset
        } : {
          y: cartOffset
        };
      } else {
        return horizontal ? {
          x: offset
        } : {
          y: offset
        };
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)((0, _VirtualizedListProps.windowSizeOrDefault)(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var contentLength = this._listMetrics.getContentLength();
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch), (0, _VirtualizedListProps.windowSizeOrDefault)(props.windowSize), cellsAroundViewport, this._listMetrics, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, _objectSpread({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: _this2._onCellFocusCapture,
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this,
        _this$props$scrollEve;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element.props.onLayout) {
                _element.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastRegion = renderRegions[renderRegions.length - 1];
        var lastSpacer = lastRegion != null && lastRegion.isSpacer ? lastRegion : null;
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._listMetrics.getHighestMeasuredCellIndex()) : section.last;
            var firstMetrics = this._listMetrics.getCellMetricsApprox(section.first, this.props);
            var lastMetrics = this._listMetrics.getCellMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element2
          })
        }, "$footer"));
      }
      var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: (_this$props$scrollEve = this.props.scrollEventThrottle) != null ? _this$props$scrollEve : 0.0001,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? _objectSpread(_objectSpread({}, this.props.maintainVisibleContentPosition), {}, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !(0, _VirtualizedListProps.horizontalOrDefault)(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._listMetrics.notifyListContentLayout({
            layout: {
              width: width,
              height: height
            },
            orientation: _this4._orientation()
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._listMetrics.getContentLength() || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._listMetrics.getCellMetricsApprox(ii, this.props);
        if (frame.isMounted) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !(0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(_ref3) {
      var x = _ref3.x,
        y = _ref3.y;
      return this._orientation().horizontal ? x : y;
    }
  }, {
    key: "_orientation",
    value: function _orientation() {
      return {
        horizontal: (0, _VirtualizedListProps.horizontalOrDefault)(this.props.horizontal),
        rtl: _reactNative.I18nManager.isRTL
      };
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = this._listMetrics.getContentLength() - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._listMetrics.getContentLength() !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._listMetrics.getContentLength();
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
      if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._listMetrics.getContentLength() !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._listMetrics.getContentLength();
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      }
      if (!isWithinStartThreshold) {
        this._sentStartForContentLength = 0;
      }
      if (!isWithinEndThreshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_maybeScrollToInitialScrollIndex",
    value: function _maybeScrollToInitialScrollIndex(contentWidth, contentHeight) {
      if (contentWidth > 0 && contentHeight > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {
        if (this.props.contentOffset == null) {
          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {
            this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(this.props.initialScrollIndex)
            });
          } else {
            this.scrollToEnd({
              animated: false
            });
          }
        }
        this._hasTriggeredInitialScrollToIndex = true;
      }
    }
  }, {
    key: "_offsetFromScrollEvent",
    value: function _offsetFromScrollEvent(e) {
      var _e$nativeEvent = e.nativeEvent,
        contentOffset = _e$nativeEvent.contentOffset,
        contentSize = _e$nativeEvent.contentSize,
        layoutMeasurement = _e$nativeEvent.layoutMeasurement;
      var _this$_orientation3 = this._orientation(),
        horizontal = _this$_orientation3.horizontal,
        rtl = _this$_orientation3.rtl;
      if (horizontal && rtl) {
        return this._selectLength(contentSize) - (this._selectOffset(contentOffset) + this._selectLength(layoutMeasurement));
      } else {
        return this._selectOffset(contentOffset);
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      if ((this._listMetrics.getAverageCellLength() > 0 || this.props.getItemLayout != null) && this._shouldRenderWithPriority() && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_shouldRenderWithPriority",
    value: function _shouldRenderWithPriority() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = (0, _VirtualizedListProps.onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = (0, _VirtualizedListProps.onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this._listMetrics.getCellMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this._listMetrics.getCellMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      return hiPri;
    }
  }, {
    key: "__getListMetrics",
    value: function __getListMetrics() {
      return this._listMetrics;
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._listMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + (0, _VirtualizedListProps.initialNumToRenderOrDefault)(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var lastPossibleCellIndex = itemCount - 1;
      var maxToRenderPerBatch = (0, _VirtualizedListProps.maxToRenderPerBatchOrDefault)(props.maxToRenderPerBatch);
      var maxFirst = Math.max(0, lastPossibleCellIndex - maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, cells.first, maxFirst),
        last: Math.min(lastPossibleCellIndex, cells.last)
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQmF0Y2hpbmF0b3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfTGlzdE1ldHJpY3NBZ2dyZWdhdG9yIiwiX1N0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJfVmlld2FiaWxpdHlIZWxwZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfVmlydHVhbGl6ZWRMaXN0UHJvcHMiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdE5hdGl2ZSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0Iiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX2NhbGxTdXBlciIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiZ2V0U2Nyb2xsaW5nVGhyZXNob2xkIiwidGhyZXNob2xkIiwidmlzaWJsZUxlbmd0aCIsIlZpcnR1YWxpemVkTGlzdCIsIl9TdGF0ZVNhZmVQdXJlQ29tcG9uZSIsInByb3BzIiwiX3RoaXMkcHJvcHMkdXBkYXRlQ2VsIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WIiwiX3RoaXMkcHJvcHMkbWFpbnRhaW5WMiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9nZXRTY3JvbGxNZXRyaWNzIiwiX3Njcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJjb250ZXh0IiwiZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjaGlsZExpc3QiLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImFkZCIsInJlZiIsImNlbGxLZXkiLCJfaGFzSW50ZXJhY3RlZCIsInJlY29yZEludGVyYWN0aW9uIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicmVtb3ZlIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsIm5ld1Byb3BzIiwia2V5IiwiX2NlbGxSZWZzIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJfZ2V0U3BhY2VyS2V5IiwiaXNWZXJ0aWNhbCIsIl9saXN0TWV0cmljcyIsIkxpc3RNZXRyaWNzQWdncmVnYXRvciIsIl9mb290ZXJMZW5ndGgiLCJfaGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXgiLCJfaGFzTW9yZSIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9pbmRpY2VzVG9LZXlzIiwiTWFwIiwiX2xhc3RGb2N1c2VkQ2VsbEtleSIsIkNoaWxkTGlzdENvbGxlY3Rpb24iLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wZW5kaW5nVmlld2FiaWxpdHlVcGRhdGUiLCJfcHJldlBhcmVudE9mZnNldCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5Iiwiem9vbVNjYWxlIiwiX3Njcm9sbFJlZiIsIl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoIiwiX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCIsIm9uUmVmcmVzaCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJvdGhlclByb3BzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsImpzeCIsIlZpZXciLCJfcHJvcHMkcmVmcmVzaGluZyIsImludmFyaWFudCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiU2Nyb2xsVmlldyIsInJlZnJlc2hDb250cm9sIiwiUmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfb25DZWxsTGF5b3V0IiwiY2VsbEluZGV4IiwibGF5b3V0SGFzQ2hhbmdlZCIsIm5vdGlmeUNlbGxMYXlvdXQiLCJsYXlvdXQiLCJuYXRpdmVFdmVudCIsIm9yaWVudGF0aW9uIiwiX29yaWVudGF0aW9uIiwiX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSIsIl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCIsIl9jb21wdXRlQmxhbmtuZXNzIiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJzdGF0ZSIsImNlbGxzQXJvdW5kVmlld3BvcnQiLCJfb25DZWxsRm9jdXNDYXB0dXJlIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJfb25DZWxsVW5tb3VudCIsIm5vdGlmeUNlbGxVbm1vdW50ZWQiLCJfb25MYXlvdXQiLCJtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IiwiX3NlbGVjdExlbmd0aCIsIm9uTGF5b3V0IiwiX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm5vdGlmeUxpc3RDb250ZW50TGF5b3V0IiwiX21heWJlU2Nyb2xsVG9Jbml0aWFsU2Nyb2xsSW5kZXgiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiY29udGVudExlbmd0aCIsImdldENvbnRlbnRMZW5ndGgiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJfb2Zmc2V0RnJvbVNjcm9sbEV2ZW50IiwiX3RoaXMkX2NvbnZlcnRQYXJlbnRTIiwiTWF0aCIsIm1heCIsInBlcmYiLCJpbmZvTG9nIiwicHJldkR0IiwicGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50Iiwic2V0U3RhdGUiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwidmlld2FiaWxpdHlIZWxwZXIiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJfc2VsZWN0T2Zmc2V0Iiwib25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9vbk1vbWVudHVtU2Nyb2xsRW5kIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0IiwicmVuZGVyTWFzayIsIl9jcmVhdGVSZW5kZXJNYXNrIiwiX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyIsImZpcnN0IiwibGFzdCIsImVxdWFscyIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpbmRleCIsImlzVmlld2FibGUiLCJkYXRhIiwiZ2V0SXRlbSIsIml0ZW0iLCJfa2V5RXh0cmFjdG9yIiwibGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIiLCJmb2N1c2VkQ2VsbEluZGV4IiwiaXRlbUNvdW50IiwiZ2V0SXRlbUNvdW50IiwiX2dldEl0ZW1LZXkiLCJoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCIsImdldENlbGxNZXRyaWNzQXBwcm94IiwiaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCIsIl9jaGVja1Byb3BzIiwiRmlsbFJhdGVIZWxwZXIiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJCYXRjaGluYXRvciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwiVmlld2FiaWxpdHlIZWxwZXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJfdGhpcyRwcm9wcyIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJpbml0aWFsU2Nyb2xsSW5kZXgiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwic2Nyb2xsVG9FbmQiLCJwYXJhbXMiLCJhbmltYXRlZCIsInZlcnlMYXN0IiwiZnJhbWUiLCJzY3JvbGxUb09mZnNldCIsInNjcm9sbFRvSW5kZXgiLCJfdGhpcyRwcm9wczIiLCJnZXRJdGVtTGF5b3V0Iiwib25TY3JvbGxUb0luZGV4RmFpbGVkIiwidmlld09mZnNldCIsInZpZXdQb3NpdGlvbiIsImdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiZ2V0QXZlcmFnZUNlbGxMZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiZmxvb3IiLCJnZXRDZWxsT2Zmc2V0QXBwcm94Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJjb25zb2xlIiwid2FybiIsIl90aGlzJF9vcmllbnRhdGlvbiIsImhvcml6b250YWwiLCJydGwiLCJoYXNDb250ZW50TGVuZ3RoIiwiX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldCIsIl90aGlzJF9vcmllbnRhdGlvbjIiLCJjYXJ0T2Zmc2V0IiwiY2FydGVzaWFuT2Zmc2V0IiwieCIsInkiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJoYXNNb3JlIiwid2luZG93U2l6ZSIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0IiwiX19ERVZfXyIsImZsZXhXcmFwIiwiZmxhdFN0eWxlcyIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwib25FbmRSZWFjaGVkVGhyZXNob2xkIiwib25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0IiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MiLCJkaXN0YW5jZUZyb21FbmQiLCJfY29uc3RyYWluVG9JdGVtQ291bnQiLCJuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0IiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwicmVuZGVyQWhlYWQiLCJtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0IiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIm1pbiIsImNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyIsInNpemUiLCJjaGlsZElkeCIsIl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlIiwiaWkiLCJjZWxsS2V5Rm9ySW5kZXgiLCJhbnlJbkNlbGwiLCJjb21wb25lbnREaWRNb3VudCIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJkaXNwb3NlIiwiYWJvcnQiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM0IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJzaG91bGRMaXN0ZW5Gb3JMYXlvdXQiLCJlbmFibGVkIiwidW5kZWZpbmVkIiwib25VcGRhdGVTZXBhcmF0b3JzIiwib25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsImhvcml6b250YWxPckRlZmF1bHQiLCJyZW5kZXIiLCJfdGhpczMiLCJfdGhpcyRwcm9wcyRzY3JvbGxFdmUiLCJfdGhpcyRwcm9wczUiLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiX3RoaXMkcHJvcHM2IiwiaW52ZXJ0ZWQiLCJzdHlsZXMiLCJob3Jpem9udGFsbHlJbnZlcnRlZCIsInZlcnRpY2FsbHlJbnZlcnRlZCIsIlNldCIsImVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsImNvbGxhcHNhYmxlIiwic3R5bGUiLCJjb21wb3NlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwiY2xvbmVFbGVtZW50IiwiZXZlbnQiLCJzcGFjZXJLZXkiLCJyZW5kZXJSZWdpb25zIiwiZW51bWVyYXRlUmVnaW9ucyIsImxhc3RSZWdpb24iLCJsYXN0U3BhY2VyIiwiaXNTcGFjZXIiLCJzZWN0aW9uIiwiaXNMYXN0U3BhY2VyIiwiY29uc3RyYWluVG9NZWFzdXJlZCIsImNsYW1wIiwiZmlyc3RNZXRyaWNzIiwibGFzdE1ldHJpY3MiLCJzcGFjZXJTaXplIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsImlzSW52ZXJ0ZWRWaXJ0dWFsaXplZExpc3QiLCJpbm5lclJldCIsIlZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlciIsImdldFNjcm9sbE1ldHJpY3MiLCJyZW5kZXJTY3JvbGxDb21wb25lbnQiLCJyZXQiLCJDb250ZXh0IiwiQ29uc3VtZXIiLCJzY3JvbGxDb250ZXh0IiwibmVzdGluZyIsInNjcm9sbEVuYWJsZWQiLCJlcnJvciIsImpzeHMiLCJfcmVuZGVyRGVidWdPdmVybGF5IiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3RoaXMkcHJvcHM3IiwiZXh0cmFEYXRhIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJoaVByaUluUHJvZ3Jlc3MiLCJjb21wdXRlQmxhbmtuZXNzIiwiZm9yRWFjaEluQ2VsbCIsIl90aGlzNCIsIm1lYXN1cmVMYXlvdXQiLCJzY3JvbGxNZXRyaWNzIiwibWV0cmljc0NoYW5nZWQiLCJzdGFjayIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0IiwiaXNNb3VudGVkIiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiZGVidWdPdmVybGF5QmFzZSIsImRlYnVnT3ZlcmxheSIsImYiLCJkZWJ1Z092ZXJsYXlGcmFtZSIsInRvcCIsImRlYnVnT3ZlcmxheUZyYW1lTGFzdCIsImRlYnVnT3ZlcmxheUZyYW1lVmlzIiwiX3JlZjMiLCJJMThuTWFuYWdlciIsImlzUlRMIiwiX3RoaXMkcHJvcHM4Iiwib25TdGFydFJlYWNoZWQiLCJvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCIsIm9uRW5kUmVhY2hlZCIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMiIsImRpc3RhbmNlRnJvbVN0YXJ0IiwiREVGQVVMVF9USFJFU0hPTERfUFgiLCJzdGFydFRocmVzaG9sZCIsImVuZFRocmVzaG9sZCIsImlzV2l0aGluU3RhcnRUaHJlc2hvbGQiLCJpc1dpdGhpbkVuZFRocmVzaG9sZCIsImNvbnRlbnRXaWR0aCIsImNvbnRlbnRIZWlnaHQiLCJjb250ZW50T2Zmc2V0IiwibnVsbHRocm93cyIsIl9lJG5hdGl2ZUV2ZW50IiwiX3RoaXMkX29yaWVudGF0aW9uMyIsIl9zaG91bGRSZW5kZXJXaXRoUHJpb3JpdHkiLCJzY2hlZHVsZSIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsIl9fZ2V0TGlzdE1ldHJpY3MiLCJfdGhpczUiLCJvblVwZGF0ZSIsIl9maW5kSXRlbUluZGV4V2l0aEtleSIsImhpbnQiLCJjdXJLZXkiLCJhZGRpdGlvbmFsUmVnaW9ucyIsIkNlbGxSZW5kZXJNYXNrIiwiYWxsUmVnaW9ucyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJyZWdpb24iLCJhZGRDZWxscyIsImluaXRpYWxSZWdpb24iLCJzdGlja3lJbmRpY2VzU2V0IiwiX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIiLCJfcHJvcHMkaW5pdGlhbFNjcm9sbEkiLCJmaXJzdENlbGxJbmRleCIsImxhc3RDZWxsSW5kZXgiLCJpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJjZWxsSWR4IiwiaXRlbUlkeCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIl9uZXdQcm9wcyRtYWludGFpblZpcyIsIl9uZXdQcm9wcyRtYWludGFpblZpczIiLCJudW1DZWxscyIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQiLCJwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSIsIm5ld0ZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJmaXJzdFZpc2libGVJdGVtSW5kZXgiLCJjb25zdHJhaW5lZENlbGxzIiwibGFzdFBvc3NpYmxlQ2VsbEluZGV4IiwibWF4Rmlyc3QiLCJrZXlFeHRyYWN0b3IiLCJkZWZhdWx0S2V5RXh0cmFjdG9yIiwiU3RyaW5nIiwidHlwZSIsImRpc3BsYXlOYW1lIiwiU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsImNyZWF0ZSIsIlBsYXRmb3JtIiwiT1MiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZWRMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtDZWxsTWV0cmljUHJvcHMsIExpc3RPcmllbnRhdGlvbn0gZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuaW1wb3J0IHR5cGUge1ZpZXdUb2tlbn0gZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEl0ZW0sXG4gIFByb3BzLFxuICBSZW5kZXJJdGVtUHJvcHMsXG4gIFJlbmRlckl0ZW1UeXBlLFxuICBTZXBhcmF0b3JzLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcbmltcG9ydCB0eXBlIHtTY3JvbGxSZXNwb25kZXJUeXBlfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5cbmltcG9ydCBCYXRjaGluYXRvciBmcm9tICcuLi9JbnRlcmFjdGlvbi9CYXRjaGluYXRvcic7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vVXRpbGl0aWVzL2NsYW1wJztcbmltcG9ydCBpbmZvTG9nIGZyb20gJy4uL1V0aWxpdGllcy9pbmZvTG9nJztcbmltcG9ydCB7Q2VsbFJlbmRlck1hc2t9IGZyb20gJy4vQ2VsbFJlbmRlck1hc2snO1xuaW1wb3J0IENoaWxkTGlzdENvbGxlY3Rpb24gZnJvbSAnLi9DaGlsZExpc3RDb2xsZWN0aW9uJztcbmltcG9ydCBGaWxsUmF0ZUhlbHBlciBmcm9tICcuL0ZpbGxSYXRlSGVscGVyJztcbmltcG9ydCBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IgZnJvbSAnLi9MaXN0TWV0cmljc0FnZ3JlZ2F0b3InO1xuaW1wb3J0IFN0YXRlU2FmZVB1cmVDb21wb25lbnQgZnJvbSAnLi9TdGF0ZVNhZmVQdXJlQ29tcG9uZW50JztcbmltcG9ydCBWaWV3YWJpbGl0eUhlbHBlciBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCBDZWxsUmVuZGVyZXIgZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXInO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuaW1wb3J0IHtcbiAgaG9yaXpvbnRhbE9yRGVmYXVsdCxcbiAgaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0LFxuICBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0LFxuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQsXG4gIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0LFxuICB3aW5kb3dTaXplT3JEZWZhdWx0LFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdFByb3BzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgSTE4bk1hbmFnZXIsXG4gIFBsYXRmb3JtLFxuICBSZWZyZXNoQ29udHJvbCxcbiAgU2Nyb2xsVmlldyxcbiAgU3R5bGVTaGVldCxcbiAgVmlldyxcbiAgZmluZE5vZGVIYW5kbGUsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5cbmV4cG9ydCB0eXBlIHtSZW5kZXJJdGVtUHJvcHMsIFJlbmRlckl0ZW1UeXBlLCBTZXBhcmF0b3JzfTtcblxuY29uc3QgT05fRURHRV9SRUFDSEVEX0VQU0lMT04gPSAwLjAwMTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAvLyBVc2VkIHRvIHRyYWNrIGl0ZW1zIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdCBmb3IgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLlxuICBmaXJzdFZpc2libGVJdGVtS2V5OiA/c3RyaW5nLFxuICAvLyBXaGVuID4gMCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGF2YWlsYWJsZSBpbiBKUyBpcyBjb25zaWRlcmVkIHN0YWxlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxufTtcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyLCB2aXNpYmxlTGVuZ3RoOiBudW1iZXIpIHtcbiAgcmV0dXJuICh0aHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG59XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIG9yIGBpZGAgcHJvcCBvbiBlYWNoIGl0ZW0gYW5kIHVzZXMgdGhhdCBmb3IgdGhlIFJlYWN0IGtleS5cbiAqICAgQWx0ZXJuYXRpdmVseSwgeW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBrZXlFeHRyYWN0b3JgIHByb3AuXG4gKiAtIEFzIGFuIGVmZm9ydCB0byByZW1vdmUgZGVmYXVsdFByb3BzLCB1c2UgaGVscGVyIGZ1bmN0aW9ucyB3aGVuIHJlZmVyZW5jaW5nIGNlcnRhaW4gcHJvcHNcbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFN0YXRlU2FmZVB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBjb250ZXh0VHlwZTogdHlwZW9mIFZpcnR1YWxpemVkTGlzdENvbnRleHQgPSBWaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW4sIC4uLn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBpZiAodmVyeUxhc3QgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3godmVyeUxhc3QsIHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuXG4gICAgLy8gVE9ETzogY29uc2lkZXIgdXNpbmcgYHJlZi5zY3JvbGxUb0VuZGAgZGlyZWN0bHlcbiAgICB0aGlzLnNjcm9sbFRvT2Zmc2V0KHthbmltYXRlZCwgb2Zmc2V0fSk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXQsIG9uU2Nyb2xsVG9JbmRleEZhaWxlZH0gPVxuICAgICAgdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke1xuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxXG4gICAgICB9YCxcbiAgICApO1xuICAgIGlmIChcbiAgICAgICFnZXRJdGVtTGF5b3V0ICYmXG4gICAgICBpbmRleCA+IHRoaXMuX2xpc3RNZXRyaWNzLmdldEhpZ2hlc3RNZWFzdXJlZENlbGxJbmRleCgpXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICEhb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgICAgICAnc2Nyb2xsVG9JbmRleCBzaG91bGQgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGdldEl0ZW1MYXlvdXQgb3Igb25TY3JvbGxUb0luZGV4RmFpbGVkLCAnICtcbiAgICAgICAgICAnb3RoZXJ3aXNlIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IHRoZSBsb2NhdGlvbiBvZiBvZmZzY3JlZW4gaW5kaWNlcyBvciBoYW5kbGUgZmFpbHVyZXMuJyxcbiAgICAgICk7XG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQoe1xuICAgICAgICBhdmVyYWdlSXRlbUxlbmd0aDogdGhpcy5fbGlzdE1ldHJpY3MuZ2V0QXZlcmFnZUNlbGxMZW5ndGgoKSxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDpcbiAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgIE1hdGguZmxvb3IoaW5kZXgpLFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE9mZnNldEFwcHJveChpbmRleCwgdGhpcy5wcm9wcykgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG5cbiAgICB0aGlzLnNjcm9sbFRvT2Zmc2V0KHtvZmZzZXQsIGFuaW1hdGVkfSk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSkge1xuICAgIGNvbnN0IHtpdGVtfSA9IHBhcmFtcztcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbSwgZ2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtQ291bnQ7IGluZGV4KyspIHtcbiAgICAgIGlmIChnZXRJdGVtKGRhdGEsIGluZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoey4uLnBhcmFtcywgaW5kZXh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgc2Nyb2xsVG9PZmZzZXQocGFyYW1zOiB7YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgb2Zmc2V0OiBudW1iZXIsIC4uLn0pIHtcbiAgICBjb25zdCB7YW5pbWF0ZWQsIG9mZnNldH0gPSBwYXJhbXM7XG4gICAgY29uc3Qgc2Nyb2xsUmVmID0gdGhpcy5fc2Nyb2xsUmVmO1xuXG4gICAgaWYgKHNjcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7aG9yaXpvbnRhbCwgcnRsfSA9IHRoaXMuX29yaWVudGF0aW9uKCk7XG4gICAgaWYgKGhvcml6b250YWwgJiYgcnRsICYmICF0aGlzLl9saXN0TWV0cmljcy5oYXNDb250ZW50TGVuZ3RoKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3Njcm9sbFRvT2Zmc2V0IG1heSBub3QgYmUgY2FsbGVkIGluIFJUTCBiZWZvcmUgY29udGVudCBpcyBsYWlkIG91dCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjcm9sbFJlZi5zY3JvbGxUbyh7XG4gICAgICBhbmltYXRlZCxcbiAgICAgIC4uLnRoaXMuX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQpLFxuICAgIH0pO1xuICB9XG5cbiAgX3Njcm9sbFRvUGFyYW1zRnJvbU9mZnNldChvZmZzZXQ6IG51bWJlcik6IHt4PzogbnVtYmVyLCB5PzogbnVtYmVyfSB7XG4gICAgY29uc3Qge2hvcml6b250YWwsIHJ0bH0gPSB0aGlzLl9vcmllbnRhdGlvbigpO1xuICAgIGlmIChob3Jpem9udGFsICYmIHJ0bCkge1xuICAgICAgLy8gQWRkIHRoZSB2aXNpYmxlIGxlbmd0aCBvZiB0aGUgc2Nyb2xsdmlldyBzbyB0aGF0IHRoZSBvZmZzZXQgaXMgcmlnaHQtYWxpZ25lZFxuICAgICAgY29uc3QgY2FydE9mZnNldCA9IHRoaXMuX2xpc3RNZXRyaWNzLmNhcnRlc2lhbk9mZnNldChcbiAgICAgICAgb2Zmc2V0ICsgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBob3Jpem9udGFsID8ge3g6IGNhcnRPZmZzZXR9IDoge3k6IGNhcnRPZmZzZXR9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXR9IDoge3k6IG9mZnNldH07XG4gICAgfVxuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBoYW5kbGUgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlci5cbiAgICogTm90ZSB0aGF0IGB0aGlzLl9zY3JvbGxSZWZgIG1pZ2h0IG5vdCBiZSBhIGBTY3JvbGxWaWV3YCwgc28gd2VcbiAgICogbmVlZCB0byBjaGVjayB0aGF0IGl0IHJlc3BvbmRzIHRvIGBnZXRTY3JvbGxSZXNwb25kZXJgIGJlZm9yZSBjYWxsaW5nIGl0LlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6ID9TY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsUmVmKCk6XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz5cbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PiB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICB0aGlzLl9zY3JvbGxSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dD8uY2VsbEtleSB8fCAncm9vdExpc3QnO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0U2Nyb2xsTWV0cmljcyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgfTtcblxuICBoYXNNb3JlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNNb3JlO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgcmVmOiBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaXJ0dWFsaXplZExpc3Q+LFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5hZGQoY2hpbGRMaXN0LnJlZiwgY2hpbGRMaXN0LmNlbGxLZXkpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICByZWY6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD4sXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnJlbW92ZShjaGlsZExpc3QucmVmKTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2NoZWNrUHJvcHMocHJvcHMpO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fbGlzdE1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdGlhbFJlbmRlclJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG5cbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGluaXRpYWxSZW5kZXJSZWdpb24sXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2socHJvcHMsIGluaXRpYWxSZW5kZXJSZWdpb24pLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTpcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHRoaXMucHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAvLyBXaGVuIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXgsIHdlIHdpbGwgcmVjZWl2ZSBhXG4gICAgICAvLyBzY3JvbGwgZXZlbnQgbGF0ZXIgc28gdGhpcyB3aWxsIHByZXZlbnQgdGhlIHdpbmRvdyBmcm9tIHVwZGF0aW5nXG4gICAgICAvLyB1bnRpbCB3ZSBnZXQgYSB2YWxpZCBvZmZzZXQuXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwLFxuICAgIH07XG4gIH1cblxuICBfY2hlY2tQcm9wcyhwcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7b25TY3JvbGwsIHdpbmRvd1NpemUsIGdldEl0ZW1Db3VudCwgZGF0YSwgaW5pdGlhbFNjcm9sbEluZGV4fSA9XG4gICAgICBwcm9wcztcblxuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgIW9uU2Nyb2xsIHx8ICFvblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZSkgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSBcImdldEl0ZW1Db3VudFwiIHByb3AgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcblxuICAgIGlmIChcbiAgICAgIGluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggJiZcbiAgICAgIChpbml0aWFsU2Nyb2xsSW5kZXggPCAwIHx8XG4gICAgICAgIChpdGVtQ291bnQgPiAwICYmIGluaXRpYWxTY3JvbGxJbmRleCA+PSBpdGVtQ291bnQpKSAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGluaXRpYWxTY3JvbGxJbmRleCBcIiR7aW5pdGlhbFNjcm9sbEluZGV4fVwiIGlzIG5vdCB2YWxpZCAobGlzdCBoYXMgJHtpdGVtQ291bnR9IGl0ZW1zKWAsXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgIXRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gU3R5bGVTaGVldC5mbGF0dGVuKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBoaW50OiA/bnVtYmVyLFxuICApOiA/bnVtYmVyIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgaWYgKGhpbnQgIT0gbnVsbCAmJiBoaW50ID49IDAgJiYgaGludCA8IGl0ZW1Db3VudCkge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBoaW50KTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBpaSk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0SXRlbUtleShcbiAgICBwcm9wczoge1xuICAgICAgZGF0YTogUHJvcHNbJ2RhdGEnXSxcbiAgICAgIGdldEl0ZW06IFByb3BzWydnZXRJdGVtJ10sXG4gICAgICBrZXlFeHRyYWN0b3I6IFByb3BzWydrZXlFeHRyYWN0b3InXSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuZ2V0SXRlbShwcm9wcy5kYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyk7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIGFkZGl0aW9uYWxSZWdpb25zPzogPyRSZWFkT25seUFycmF5PHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9PixcbiAgKTogQ2VsbFJlbmRlck1hc2sge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPj0gMCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAtIDEgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50LFxuICAgICAgYEludmFsaWQgY2VsbHMgYXJvdW5kIHZpZXdwb3J0IFwiWyR7Y2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdH0sICR7Y2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0fV1cIiB3YXMgcGFzc2VkIHRvIFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFza2AsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBuZXcgQ2VsbFJlbmRlck1hc2soaXRlbUNvdW50KTtcblxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBhbGxSZWdpb25zID0gW2NlbGxzQXJvdW5kVmlld3BvcnQsIC4uLihhZGRpdGlvbmFsUmVnaW9ucyA/PyBbXSldO1xuICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgYWxsUmVnaW9ucykge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbml0aWFsbHkgcmVuZGVyZWQgY2VsbHMgYXJlIHJldGFpbmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBcInNjcm9sbC10by10b3BcIiBvcHRpbWl6YXRpb25cbiAgICAgIGlmIChwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPT0gbnVsbCB8fCBwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPD0gMCkge1xuICAgICAgICBjb25zdCBpbml0aWFsUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhpbml0aWFsUmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxheW91dCBjb29yZGluYXRlcyBvZiBzdGlja2VyIGhlYWRlcnMgbWF5IGJlIG9mZi1zY3JlZW4gd2hpbGUgdGhlXG4gICAgICAvLyBhY3R1YWwgaGVhZGVyIGlzIG9uLXNjcmVlbi4gS2VlcCB0aGUgbW9zdCByZWNlbnQgYmVmb3JlIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gcmVuZGVyZWQsIGV2ZW4gaWYgaXRzIGxheW91dCBjb29yZGluYXRlcyBhcmUgbm90IGluIHZpZXdwb3J0LlxuICAgICAgY29uc3Qgc3RpY2t5SW5kaWNlc1NldCA9IG5ldyBTZXQocHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGlja3lJbmRpY2VzU2V0LFxuICAgICAgICByZW5kZXJNYXNrLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyTWFzaztcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wczogUHJvcHMpOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgY29uc3QgZmlyc3RDZWxsSW5kZXggPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBNYXRoLmZsb29yKHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/PyAwKSksXG4gICAgKTtcblxuICAgIGNvbnN0IGxhc3RDZWxsSW5kZXggPVxuICAgICAgTWF0aC5taW4oXG4gICAgICAgIGl0ZW1Db3VudCxcbiAgICAgICAgZmlyc3RDZWxsSW5kZXggKyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQocHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSxcbiAgICAgICkgLSAxO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdENlbGxJbmRleCxcbiAgICAgIGxhc3Q6IGxhc3RDZWxsSW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICBwcm9wczogUHJvcHMsXG4gICAgc3RpY2t5SW5kaWNlc1NldDogU2V0PG51bWJlcj4sXG4gICAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gICAgY2VsbElkeDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBwcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBmb3IgKGxldCBpdGVtSWR4ID0gY2VsbElkeCAtIDE7IGl0ZW1JZHggPj0gMDsgaXRlbUlkeC0tKSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc1NldC5oYXMoaXRlbUlkeCArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyh7Zmlyc3Q6IGl0ZW1JZHgsIGxhc3Q6IGl0ZW1JZHh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICBwcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKTtcbiAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcblxuICAgIC8vIFdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHN1Z2dlc3Rpb25cbiAgICBpZiAodmlzaWJsZUxlbmd0aCA8PSAwIHx8IGNvbnRlbnRMZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBnZXRJdGVtQ291bnQoZGF0YSlcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgfVxuXG4gICAgbGV0IG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuICAgIGlmIChwcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICAgID8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKVxuICAgICAgICAgIDogMDtcblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IHtcbiAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgIGxhc3Q6IE1hdGgubWluKFxuICAgICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArIHJlbmRlckFoZWFkLFxuICAgICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDEsXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgcGVuZGluZyBzY3JvbGwgdXBkYXRlLCB3ZSBzaG91bGQgbm90IGFkanVzdCB0aGUgcmVuZGVyIHdpbmRvdyBhcyBpdFxuICAgICAgLy8gbWlnaHQgb3ZlcnJpZGUgdGhlIGNvcnJlY3Qgd2luZG93LlxuICAgICAgaWYgKHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBnZXRJdGVtQ291bnQoZGF0YSlcbiAgICAgICAgICA/IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoY2VsbHNBcm91bmRWaWV3cG9ydCwgcHJvcHMpXG4gICAgICAgICAgOiBjZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgICAgfVxuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0ID0gY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICAgd2luZG93U2l6ZU9yRGVmYXVsdChwcm9wcy53aW5kb3dTaXplKSxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoKSBzaG91bGQgcmV0dXJuIHJhbmdlIGluLWJvdW5kcycsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUoKSA+IDApIHtcbiAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAvLyBXaWxsIHRoaXMgcHJldmVudCByZW5kZXJpbmcgaWYgdGhlIG5lc3RlZCBsaXN0IGRvZXNuJ3QgcmVhbGl6ZSB0aGUgZW5kP1xuICAgICAgY29uc3QgY2hpbGRJZHggPSB0aGlzLl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICApO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPSBjaGlsZElkeCA/PyBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ7XG4gIH1cblxuICBfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxLZXlGb3JJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYW55SW5DZWxsKGNlbGxLZXlGb3JJbmRleCwgY2hpbGRMaXN0ID0+XG4gICAgICAgICAgY2hpbGRMaXN0Lmhhc01vcmUoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgY2VsbEtleTogdGhpcy5jb250ZXh0LmNlbGxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7cmVmOiB0aGlzfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG4gICAgY29uc3QgaXRlbUNvdW50ID0gbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgfVxuXG4gICAgbGV0IG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQ6ID9udW1iZXIgPSBudWxsO1xuICAgIGNvbnN0IHByZXZGaXJzdFZpc2libGVJdGVtS2V5ID0gcHJldlN0YXRlLmZpcnN0VmlzaWJsZUl0ZW1LZXk7XG4gICAgY29uc3QgbWluSW5kZXhGb3JWaXNpYmxlID1cbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj8ubWluSW5kZXhGb3JWaXNpYmxlID8/IDA7XG4gICAgY29uc3QgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSA9XG4gICAgICBuZXdQcm9wcy5nZXRJdGVtQ291bnQobmV3UHJvcHMuZGF0YSkgPiBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkobmV3UHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgOiBudWxsO1xuICAgIGlmIChcbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsICYmXG4gICAgICBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsICYmXG4gICAgICBuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9IG51bGxcbiAgICApIHtcbiAgICAgIGlmIChuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9PSBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSkge1xuICAgICAgICAvLyBGYXN0IHBhdGggaWYgaXRlbXMgd2VyZSBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QuXG4gICAgICAgIGNvbnN0IGhpbnQgPVxuICAgICAgICAgIGl0ZW1Db3VudCAtIHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkgKyBtaW5JbmRleEZvclZpc2libGU7XG4gICAgICAgIGNvbnN0IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCA9IFZpcnR1YWxpemVkTGlzdC5fZmluZEl0ZW1JbmRleFdpdGhLZXkoXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICAgICAgaGludCxcbiAgICAgICAgKTtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9XG4gICAgICAgICAgZmlyc3RWaXNpYmxlSXRlbUluZGV4ICE9IG51bGxcbiAgICAgICAgICAgID8gZmlyc3RWaXNpYmxlSXRlbUluZGV4IC0gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb25zdHJhaW5lZENlbGxzID0gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGZpcnN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgICBsYXN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICtcbiAgICAgICAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCxcbiAgICAgICAgICB9XG4gICAgICAgIDogcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICBuZXdQcm9wcyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGNvbnN0cmFpbmVkQ2VsbHMsXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2sobmV3UHJvcHMsIGNvbnN0cmFpbmVkQ2VsbHMpLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTogbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSxcbiAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDpcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCAhPSBudWxsXG4gICAgICAgICAgPyBwcmV2U3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ICsgMVxuICAgICAgICAgIDogcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCxcbiAgICB9O1xuICB9XG5cbiAgX3B1c2hDZWxscyhcbiAgICBjZWxsczogQXJyYXk8T2JqZWN0PixcbiAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBBcnJheTxudW1iZXI+LFxuICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHM6IFNldDxudW1iZXI+LFxuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICAgIGludmVyc2lvblN0eWxlOiBWaWV3U3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGRlYnVnLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgcmVuZGVySXRlbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpaSwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvdWxkTGlzdGVuRm9yTGF5b3V0ID1cbiAgICAgICAgZ2V0SXRlbUxheW91dCA9PSBudWxsIHx8IGRlYnVnIHx8IHRoaXMuX2ZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKTtcblxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW1Db21wb25lbnR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkNlbGxGb2N1c0NhcHR1cmU9e3RoaXMuX29uQ2VsbEZvY3VzQ2FwdHVyZX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHJlbmRlckl0ZW09e3JlbmRlckl0ZW19XG4gICAgICAgICAgey4uLihzaG91bGRMaXN0ZW5Gb3JMYXlvdXQgJiYge1xuICAgICAgICAgICAgb25DZWxsTGF5b3V0OiB0aGlzLl9vbkNlbGxMYXlvdXQsXG4gICAgICAgICAgfSl9XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgY2VsbHM6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHByb3BzOiBQcm9wcyxcbiAgKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcbiAgICBjb25zdCBsYXN0UG9zc2libGVDZWxsSW5kZXggPSBpdGVtQ291bnQgLSAxO1xuXG4gICAgLy8gQ29uc3RyYWluaW5nIGBsYXN0YCBtYXkgc2lnbmlmaWNhbnRseSBzaHJpbmsgdGhlIHdpbmRvdy4gQWRqdXN0IGBmaXJzdGBcbiAgICAvLyB0byBleHBhbmQgdGhlIHdpbmRvdyBpZiB0aGUgbmV3IGBsYXN0YCByZXN1bHRzIGluIGEgbmV3IHdpbmRvdyBzbWFsbGVyXG4gICAgLy8gdGhhbiB0aGUgbnVtYmVyIG9mIGNlbGxzIHJlbmRlcmVkIHBlciBiYXRjaC5cbiAgICBjb25zdCBtYXhUb1JlbmRlclBlckJhdGNoID0gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChcbiAgICAgIHByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2gsXG4gICAgKTtcbiAgICBjb25zdCBtYXhGaXJzdCA9IE1hdGgubWF4KDAsIGxhc3RQb3NzaWJsZUNlbGxJbmRleCAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBjbGFtcCgwLCBjZWxscy5maXJzdCwgbWF4Rmlyc3QpLFxuICAgICAgbGFzdDogTWF0aC5taW4obGFzdFBvc3NpYmxlQ2VsbEluZGV4LCBjZWxscy5sYXN0KSxcbiAgICB9O1xuICB9XG5cbiAgX29uVXBkYXRlU2VwYXJhdG9ycyA9IChrZXlzOiBBcnJheTw/c3RyaW5nPiwgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgcmVmID0ga2V5ICE9IG51bGwgJiYgdGhpcy5fY2VsbFJlZnNba2V5XTtcbiAgICAgIHJlZiAmJiByZWYudXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVzdGVkQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmXG4gICAgICAhIW5lc3RlZENvbnRleHQuaG9yaXpvbnRhbCA9PT0gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTcGFjZXJLZXkgPSAoaXNWZXJ0aWNhbDogYm9vbGVhbik6IHN0cmluZyA9PlxuICAgIGlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgc3RhdGljIF9rZXlFeHRyYWN0b3IoXG4gICAgaXRlbTogSXRlbSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByb3BzOiB7XG4gICAgICBrZXlFeHRyYWN0b3I/OiA/KGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgICAgIC4uLlxuICAgIH0sXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKHByb3BzLmtleUV4dHJhY3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvcHMua2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXkgPSBkZWZhdWx0S2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICBpZiAoa2V5ID09PSBTdHJpbmcoaW5kZXgpKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcbiAgICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSBpdGVtLnR5cGUuZGlzcGxheU5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyh0aGlzLnByb3BzKTtcbiAgICBjb25zdCB7TGlzdEVtcHR5Q29tcG9uZW50LCBMaXN0Rm9vdGVyQ29tcG9uZW50LCBMaXN0SGVhZGVyQ29tcG9uZW50fSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtkYXRhLCBob3Jpem9udGFsfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW52ZXJzaW9uU3R5bGUgPSB0aGlzLnByb3BzLmludmVydGVkXG4gICAgICA/IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZFxuICAgICAgICA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWRcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjZWxsczogQXJyYXk8YW55IHwgUmVhY3QuTm9kZT4gPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcblxuICAgIC8vIDEuIEFkZCBjZWxsIGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIC8vIFdlIGV4cGVjdCB0aGF0IGhlYWRlciBjb21wb25lbnQgd2lsbCBiZSBhIHNpbmdsZSBuYXRpdmUgdmlldyBzbyBtYWtlIGl0XG4gICAgICAgICAgICAvLyBub3QgY29sbGFwc2FibGUgdG8gYXZvaWQgdGhpcyB2aWV3IGJlaW5nIGZsYXR0ZW5lZCBhbmQgbWFrZSB0aGlzIGFzc3VtcHRpb25cbiAgICAgICAgICAgIC8vIG5vIGxvbmdlciB0cnVlLlxuICAgICAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYS4gQWRkIGEgY2VsbCBmb3IgTGlzdEVtcHR5Q29tcG9uZW50IGlmIGFwcGxpY2FibGVcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID09PSAwICYmIExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWVtcHR5J31cbiAgICAgICAgICBrZXk9XCIkZW1wdHlcIj5cbiAgICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9uTGF5b3V0OiAoZXZlbnQ6IExheW91dEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX29uTGF5b3V0RW1wdHkoZXZlbnQpO1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gUmVhY3QuRWxlbWVudCBpbnRlcm5hbCBpbnNwZWN0aW9uXG4gICAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5vbkxheW91dChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gUmVhY3QuRWxlbWVudCBpbnRlcm5hbCBpbnNwZWN0aW9uXG4gICAgICAgICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGludmVyc2lvblN0eWxlLCBlbGVtZW50LnByb3BzLnN0eWxlKSxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmIuIEFkZCBjZWxscyBhbmQgc3BhY2VycyBmb3IgZWFjaCBpdGVtXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9IHRoaXMuX2dldFNwYWNlcktleSghaG9yaXpvbnRhbCk7XG5cbiAgICAgIGNvbnN0IHJlbmRlclJlZ2lvbnMgPSB0aGlzLnN0YXRlLnJlbmRlck1hc2suZW51bWVyYXRlUmVnaW9ucygpO1xuICAgICAgY29uc3QgbGFzdFJlZ2lvbiA9IHJlbmRlclJlZ2lvbnNbcmVuZGVyUmVnaW9ucy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGxhc3RTcGFjZXIgPSBsYXN0UmVnaW9uPy5pc1NwYWNlciA/IGxhc3RSZWdpb24gOiBudWxsO1xuXG4gICAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgcmVuZGVyUmVnaW9ucykge1xuICAgICAgICBpZiAoc2VjdGlvbi5pc1NwYWNlcikge1xuICAgICAgICAgIC8vIExlZ2FjeSBiZWhhdmlvciBpcyB0byBhdm9pZCBzcGFjZXJzIHdoZW4gdmlydHVhbGl6YXRpb24gaXNcbiAgICAgICAgICAvLyBkaXNhYmxlZCAoaW5jbHVkaW5nIGhlYWQgc3BhY2VycyBvbiBpbml0aWFsIHJlbmRlcikuXG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgICAvLyBwcmV2ZW50IHRoZSB1c2VyIGZvciBoeXBlcnNjcm9sbGluZyBpbnRvIHVuLW1lYXN1cmVkIGFyZWEgYmVjYXVzZSBvdGhlcndpc2UgY29udGVudCB3aWxsXG4gICAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIGNvbnN0IGlzTGFzdFNwYWNlciA9IHNlY3Rpb24gPT09IGxhc3RTcGFjZXI7XG4gICAgICAgICAgY29uc3QgY29uc3RyYWluVG9NZWFzdXJlZCA9IGlzTGFzdFNwYWNlciAmJiAhdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0O1xuICAgICAgICAgIGNvbnN0IGxhc3QgPSBjb25zdHJhaW5Ub01lYXN1cmVkXG4gICAgICAgICAgICA/IGNsYW1wKFxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QgLSAxLFxuICAgICAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRIaWdoZXN0TWVhc3VyZWRDZWxsSW5kZXgoKSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBzZWN0aW9uLmxhc3Q7XG5cbiAgICAgICAgICBjb25zdCBmaXJzdE1ldHJpY3MgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbGFzdE1ldHJpY3MgPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDZWxsTWV0cmljc0FwcHJveChcbiAgICAgICAgICAgIGxhc3QsXG4gICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc3BhY2VyU2l6ZSA9XG4gICAgICAgICAgICBsYXN0TWV0cmljcy5vZmZzZXQgKyBsYXN0TWV0cmljcy5sZW5ndGggLSBmaXJzdE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICBrZXk9e2Akc3BhY2VyLSR7c2VjdGlvbi5maXJzdH1gfVxuICAgICAgICAgICAgICBzdHlsZT17e1tzcGFjZXJLZXldOiBzcGFjZXJTaXplfX1cbiAgICAgICAgICAgIC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMuIEFkZCBjZWxsIGZvciBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyA0LiBSZW5kZXIgdGhlIFNjcm9sbFZpZXdcbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICAvLyBpT1MvbWFjT1MgcmVxdWlyZXMgYSBub24temVybyBzY3JvbGxFdmVudFRocm90dGxlIHRvIGZpcmUgbW9yZSB0aGFuIGFcbiAgICAgIC8vIHNpbmdsZSBub3RpZmljYXRpb24gd2hpbGUgc2Nyb2xsaW5nLiBUaGlzIHdpbGwgb3RoZXJ3aXNlIG5vLW9wLlxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID8/IDAuMDAwMSxcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgICBpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0OiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uOlxuICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLFxuICAgICAgICAgICAgICAvLyBBZGp1c3QgaW5kZXggdG8gYWNjb3VudCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudC5cbiAgICAgICAgICAgICAgbWluSW5kZXhGb3JWaXNpYmxlOlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLm1pbkluZGV4Rm9yVmlzaWJsZSArXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50IC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIH19PlxuICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50XG4gICAgICAgICAgKShzY3JvbGxQcm9wcyksXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VsbHMsXG4gICAgICAgICl9XG4gICAgICA8L1ZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICAgIGxldCByZXQ6IFJlYWN0Lk5vZGUgPSBpbm5lclJldDtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgcmV0ID0gKFxuICAgICAgICA8U2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgIHtzY3JvbGxDb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGV4dCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICFzY3JvbGxDb250ZXh0Lmhvcml6b250YWwgPT09XG4gICAgICAgICAgICAgICAgIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID09IG51bGwgJiZcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFbmFibGVkICE9PSBmYWxzZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiBiZWNhdXNlIGl0IGNhbiBicmVhayB3aW5kb3dpbmcgYW5kIG90aGVyIGZ1bmN0aW9uYWxpdHkgLSB1c2UgYW5vdGhlciAnICtcbiAgICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICAvLyBjbGVhciB0aGUgdmlld2FibGVJbmRpY2VzIGNhY2hlIHRvIGFsc28gdHJpZ2dlclxuICAgICAgLy8gdGhlIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGRhdGFcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZXNldFZpZXdhYmxlSW5kaWNlcygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBpcyBndWFyYW50ZWVpbmcgYSBoaVByaSBjZWxsIHVwZGF0ZSB3aWxsIG9ubHkgaGFwcGVuXG4gICAgLy8gb25jZSBwZXIgZmliZXIgdXBkYXRlLiBUaGUgYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgc2V0IGl0IHRvIHRydWVcbiAgICAvLyBpZiBhIGhpUHJpIHVwZGF0ZSBuZWVkcyB0byBwZXJmb3JtLiBJZiBgY29tcG9uZW50RGlkVXBkYXRlYCBpcyB0cmlnZ2VyZWQgd2l0aFxuICAgIC8vIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3M9dHJ1ZWAsIG1lYW5zIGl0J3MgdHJpZ2dlcmVkIGJ5IHRoZSBoaVByaSB1cGRhdGUuIFRoZVxuICAgIC8vIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIGNoZWNrIHRoaXMgY29uZGl0aW9uIGFuZCBub3QgcGVyZm9ybVxuICAgIC8vIGFub3RoZXIgaGlQcmkgdXBkYXRlLlxuICAgIGNvbnN0IGhpUHJpSW5Qcm9ncmVzcyA9IHRoaXMuX2hpUHJpSW5Qcm9ncmVzcztcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICAvLyBNYWtlIHN1cmUgc2V0dGluZyBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBiYWNrIHRvIGZhbHNlIGFmdGVyIGBjb21wb25lbnREaWRVcGRhdGVgXG4gICAgLy8gaXMgdHJpZ2dlcmVkIHdpdGggYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWVgXG4gICAgaWYgKGhpUHJpSW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2NlbGxSZWZzOiB7W3N0cmluZ106IG51bGwgfCBDZWxsUmVuZGVyZXI8YW55Pn0gPSB7fTtcbiAgX2ZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcjtcbiAgX2xpc3RNZXRyaWNzOiBMaXN0TWV0cmljc0FnZ3JlZ2F0b3IgPSBuZXcgTGlzdE1ldHJpY3NBZ2dyZWdhdG9yKCk7XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICAvLyBVc2VkIGZvciBwcmV2ZW50aW5nIHNjcm9sbFRvSW5kZXggZnJvbSBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZm9yIGluaXRpYWxTY3JvbGxJbmRleFxuICBfaGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZDoge1tzdHJpbmddOiBib29sZWFufSA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9sYXN0Rm9jdXNlZENlbGxLZXk6ID9zdHJpbmcgPSBudWxsO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogQ2hpbGRMaXN0Q29sbGVjdGlvbjxWaXJ0dWFsaXplZExpc3Q+ID1cbiAgICBuZXcgQ2hpbGRMaXN0Q29sbGVjdGlvbigpO1xuICBfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDogbnVtYmVyID0gMDtcbiAgX3BlbmRpbmdWaWV3YWJpbGl0eVVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgX3Njcm9sbE1ldHJpY3M6IHtcbiAgICBkT2Zmc2V0OiBudW1iZXIsXG4gICAgZHQ6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAgICB2ZWxvY2l0eTogbnVtYmVyLFxuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICB6b29tU2NhbGU6IG51bWJlcixcbiAgfSA9IHtcbiAgICBkT2Zmc2V0OiAwLFxuICAgIGR0OiAxMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxuICAgIHZlbG9jaXR5OiAwLFxuICAgIHZpc2libGVMZW5ndGg6IDAsXG4gICAgem9vbVNjYWxlOiAxLFxuICB9O1xuICBfc2Nyb2xsUmVmOiA/UmVhY3QuRWxlbWVudFJlZjxhbnk+ID0gbnVsbDtcbiAgX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXI6IEJhdGNoaW5hdG9yO1xuICBfdmlld2FiaWxpdHlUdXBsZXM6IEFycmF5PFZpZXdhYmlsaXR5SGVscGVyQ2FsbGJhY2tUdXBsZT4gPSBbXTtcblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdIFRoZSB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnkgRmxvdydzXG4gICAqIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9jYXB0dXJlU2Nyb2xsUmVmID0gcmVmID0+IHtcbiAgICB0aGlzLl9zY3JvbGxSZWYgPSByZWY7XG4gIH07XG5cbiAgX2NvbXB1dGVCbGFua25lc3MoKSB7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuY29tcHV0ZUJsYW5rbmVzcyhcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdIFRoZSB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnkgRmxvdydzXG4gICAqIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50ID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IG9uUmVmcmVzaCA9IHByb3BzLm9uUmVmcmVzaDtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIFByZXZlbnQgVmlydHVhbGl6ZWRMaXN0Ll9vbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gYmVpbmcgdHJpZ2dlcmVkIGJ5IGEgYnViYmxpbmcgb25Db250ZW50U2l6ZUNoYW5nZSBldmVudC5cbiAgICAgIC8vIFRoaXMgY291bGQgbGVhZCB0byBpbnRlcm5hbCBpbmNvbnNpc3RlbmNpZXMgd2l0aGluIFZpcnR1YWxpemVkTGlzdC5cbiAgICAgIGNvbnN0IHtvbkNvbnRlbnRTaXplQ2hhbmdlLCAuLi5vdGhlclByb3BzfSA9IHByb3BzO1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5vdGhlclByb3BzfSAvPjtcbiAgICB9IGVsc2UgaWYgKG9uUmVmcmVzaCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgcHJvcHMucmVmcmVzaGluZyA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgICAnYHJlZnJlc2hpbmdgIHByb3AgbXVzdCBiZSBzZXQgYXMgYSBib29sZWFuIGluIG9yZGVyIHRvIHVzZSBgb25SZWZyZXNoYCwgYnV0IGdvdCBgJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvcHMucmVmcmVzaGluZyA/PyAndW5kZWZpbmVkJykgK1xuICAgICAgICAgICdgJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgICAgICAgICAgICByZWZyZXNoaW5nPXtwcm9wcy5yZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uUmVmcmVzaD17b25SZWZyZXNofVxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmlld09mZnNldD17cHJvcHMucHJvZ3Jlc3NWaWV3T2Zmc2V0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dCA9IChcbiAgICBlOiBMYXlvdXRFdmVudCxcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgY2VsbEluZGV4OiBudW1iZXIsXG4gICk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxheW91dEhhc0NoYW5nZWQgPSB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlDZWxsTGF5b3V0KHtcbiAgICAgIGNlbGxJbmRleCxcbiAgICAgIGNlbGxLZXksXG4gICAgICBsYXlvdXQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgb3JpZW50YXRpb246IHRoaXMuX29yaWVudGF0aW9uKCksXG4gICAgfSk7XG5cbiAgICBpZiAobGF5b3V0SGFzQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfTtcblxuICBfb25DZWxsRm9jdXNDYXB0dXJlID0gKGNlbGxLZXk6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleSA9IGNlbGxLZXk7XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICB9O1xuXG4gIF9vbkNlbGxVbm1vdW50ID0gKGNlbGxLZXk6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLl9jZWxsUmVmc1tjZWxsS2V5XTtcbiAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlDZWxsVW5tb3VudGVkKGNlbGxLZXkpO1xuICB9O1xuXG4gIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2hJbkNlbGwoY2VsbEtleSwgY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSk7XG4gIH1cblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlMaXN0Q29udGVudExheW91dCh7XG4gICAgICAgICAgICBsYXlvdXQ6IHt3aWR0aCwgaGVpZ2h0fSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nZXRTY3JvbGxNZXRyaWNzKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IG1ldHJpY3NDaGFuZ2VkID1cbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAhPT0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCAhPT0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICBpZiAobWV0cmljc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICAgICAgICAgIC8vIElmIG1ldHJpY3Mgb2YgdGhlIHNjcm9sbFZpZXcgY2hhbmdlZCwgdGhlbiB3ZSB0cmlnZ2VyZWQgcmVtZWFzdXJlIGZvciBjaGlsZCBsaXN0XG4gICAgICAgICAgICAvLyB0byBlbnN1cmUgVmlydHVhbGl6ZWRMaXN0IGhhcyB0aGUgcmlnaHQgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgICAgICAgICAgY2hpbGRMaXN0Lm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiVmlydHVhbGl6ZWRMaXN0OiBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBtZWFzdXJpbmcgYSBsaXN0J3NcIiArXG4gICAgICAgICAgICAgICcgb2Zmc2V0IGZyb20gaXRzIGNvbnRhaW5pbmcgVmlydHVhbGl6ZWRMaXN0LicsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QgdGhyZXcgYW4gZXJyb3InLFxuICAgICAgICBlcnJvci5zdGFjayxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX29uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgc2Nyb2xsIG1ldHJpY3MgdG8gYmUgcmVsYXRpdmUgdG8gb3VyIGNvbnRhaW5pbmdcbiAgICAgIC8vIFZpcnR1YWxpemVkTGlzdCBiZWZvcmUgd2UgY2FuIG1ha2UgY2xhaW1zIGFib3V0IGxpc3QgaXRlbSB2aWV3YWJpbGl0eVxuICAgICAgdGhpcy5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChcbiAgICAgICAgZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9nZXRGb290ZXJDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJztcbiAgfVxuXG4gIF9vbkxheW91dEZvb3RlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSk7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goaWksIHRoaXMucHJvcHMpO1xuICAgICAgaWYgKGZyYW1lLmlzTW91bnRlZCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICk7XG4gICAgY29uc3Qgd2luZG93TGVuID0gZnJhbWVMYXN0Lm9mZnNldCArIGZyYW1lTGFzdC5sZW5ndGggLSB3aW5kb3dUb3A7XG4gICAgY29uc3QgdmlzVG9wID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXldfT5cbiAgICAgICAge2ZyYW1lc0luTGF5b3V0Lm1hcCgoZiwgaWkpID0+IChcbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAga2V5PXsnZicgKyBpaX1cbiAgICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWUsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3A6IGYub2Zmc2V0ICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZi5sZW5ndGggKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZUxhc3QsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogd2luZG93VG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVWaXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogdmlzVG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHZpc0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgLz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG5cbiAgX3NlbGVjdExlbmd0aChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgID8gbWV0cmljcy5oZWlnaHRcbiAgICAgIDogbWV0cmljcy53aWR0aDtcbiAgfVxuXG4gIF9zZWxlY3RPZmZzZXQoe3gsIHl9OiAkUmVhZE9ubHk8e3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59Pik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uKCkuaG9yaXpvbnRhbCA/IHggOiB5O1xuICB9XG5cbiAgX29yaWVudGF0aW9uKCk6IExpc3RPcmllbnRhdGlvbiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSxcbiAgICAgIHJ0bDogSTE4bk1hbmFnZXIuaXNSVEwsXG4gICAgfTtcbiAgfVxuXG4gIF9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvblN0YXJ0UmVhY2hlZCxcbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLFxuICAgICAgb25FbmRSZWFjaGVkLFxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIGVkZ2UgcmVhY2hlZCBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHt2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBvZmZzZXQ7XG4gICAgbGV0IGRpc3RhbmNlRnJvbUVuZCA9XG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gRXNwZWNpYWxseSB3aGVuIG9FUlQgaXMgemVybyBpdCdzIG5lY2Vzc2FyeSB0byAnZmxvb3InIHZlcnkgc21hbGwgZGlzdGFuY2UgdmFsdWVzIHRvIGJlIDBcbiAgICAvLyBzaW5jZSBkZWJvdW5jaW5nIGNhdXNlcyB1cyB0byBub3QgZmlyZSB0aGlzIGV2ZW50IGZvciBldmVyeSBzaW5nbGUgXCJwaXhlbFwiIHdlIHNjcm9sbCBhbmQgY2FuIHRodXNcbiAgICAvLyBiZSBhdCB0aGUgZWRnZSBvZiB0aGUgbGlzdCB3aXRoIGEgZGlzdGFuY2UgYXBwcm94aW1hdGluZyAwIGJ1dCBub3QgcXVpdGUgdGhlcmUuXG4gICAgaWYgKGRpc3RhbmNlRnJvbVN0YXJ0IDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3RhbmNlRnJvbUVuZCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21FbmQgPSAwO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFQxMjExNzIxNzIgTG9vayBpbnRvIHdoeSB3ZSdyZSBcImRlZmF1bHRpbmdcIiB0byBhIHRocmVzaG9sZCBvZiAycHhcbiAgICAvLyB3aGVuIG9FUlQgaXMgbm90IHByZXNlbnQgKGRpZmZlcmVudCBmcm9tIDIgdmlld3BvcnRzIHVzZWQgZWxzZXdoZXJlKVxuICAgIGNvbnN0IERFRkFVTFRfVEhSRVNIT0xEX1BYID0gMjtcblxuICAgIGNvbnN0IHN0YXJ0VGhyZXNob2xkID1cbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBlbmRUaHJlc2hvbGQgPVxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgaXNXaXRoaW5TdGFydFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbVN0YXJ0IDw9IHN0YXJ0VGhyZXNob2xkO1xuICAgIGNvbnN0IGlzV2l0aGluRW5kVGhyZXNob2xkID0gZGlzdGFuY2VGcm9tRW5kIDw9IGVuZFRocmVzaG9sZDtcblxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBlbmQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25FbmRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvblN0YXJ0UmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICBpc1dpdGhpbkVuZFRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cblxuICAgIC8vIE5leHQgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIHN0YXJ0IHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uU3RhcnRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvbkVuZFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgaWYgKFxuICAgICAgb25TdGFydFJlYWNoZWQgIT0gbnVsbCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSAwICYmXG4gICAgICBpc1dpdGhpblN0YXJ0VGhyZXNob2xkICYmXG4gICAgICB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCkgIT09IHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9saXN0TWV0cmljcy5nZXRDb250ZW50TGVuZ3RoKCk7XG4gICAgICBvblN0YXJ0UmVhY2hlZCh7ZGlzdGFuY2VGcm9tU3RhcnR9KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgc3RhcnQgb3IgZW5kIGFuZCBiYWNrIGFnYWluLFxuICAgIC8vIGNhdXNlIG9uU3RhcnRSZWFjaGVkIG9yIG9uRW5kUmVhY2hlZCB0byBiZSB0cmlnZ2VyZWQgYWdhaW5cbiAgICBpZiAoIWlzV2l0aGluU3RhcnRUaHJlc2hvbGQpIHtcbiAgICAgIHRoaXMuX3NlbnRTdGFydEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICAgIH1cbiAgICBpZiAoIWlzV2l0aGluRW5kVGhyZXNob2xkKSB7XG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICB0aGlzLl9saXN0TWV0cmljcy5ub3RpZnlMaXN0Q29udGVudExheW91dCh7XG4gICAgICBsYXlvdXQ6IHt3aWR0aCwgaGVpZ2h0fSxcbiAgICAgIG9yaWVudGF0aW9uOiB0aGlzLl9vcmllbnRhdGlvbigpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbWF5YmVTY3JvbGxUb0luaXRpYWxTY3JvbGxJbmRleCh3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpZWQgYGluaXRpYWxTY3JvbGxJbmRleGAgcHJvcCBhZnRlciB0aGUgU2Nyb2xsVmlld1xuICAgKiBjb250ZW50IGhhcyBiZWVuIGxhaWQgb3V0LCBpZiBpdCBpcyBzdGlsbCB2YWxpZC4gT25seSBhIHNpbmdsZSBzY3JvbGwgaXNcbiAgICogdHJpZ2dlcmVkIHRocm91Z2hvdXQgdGhlIGxpZmV0aW1lIG9mIHRoZSBsaXN0LlxuICAgKi9cbiAgX21heWJlU2Nyb2xsVG9Jbml0aWFsU2Nyb2xsSW5kZXgoXG4gICAgY29udGVudFdpZHRoOiBudW1iZXIsXG4gICAgY29udGVudEhlaWdodDogbnVtYmVyLFxuICApIHtcbiAgICBpZiAoXG4gICAgICBjb250ZW50V2lkdGggPiAwICYmXG4gICAgICBjb250ZW50SGVpZ2h0ID4gMCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXhcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPT0gbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGluZGV4OiBudWxsdGhyb3dzKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pOiAkRmxvd0ZpeE1lID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q29udGVudExlbmd0aCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQoZSk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX2xpc3RNZXRyaWNzLmdldENvbnRlbnRMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7dmlzaWJsZUxlbmd0aCwgY29udGVudExlbmd0aCwgb2Zmc2V0LCBkT2Zmc2V0fSA9XG4gICAgICAgIHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKHtcbiAgICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGR0ID0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXBcbiAgICAgID8gTWF0aC5tYXgoMSwgdGltZXN0YW1wIC0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApXG4gICAgICA6IDE7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkT2Zmc2V0IC8gZHQ7XG5cbiAgICBpZiAoXG4gICAgICBkdCA+IDUwMCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCA+IDUwMCAmJlxuICAgICAgY29udGVudExlbmd0aCA+IDUgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLnBlcmZcbiAgICApIHtcbiAgICAgIGluZm9Mb2coXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFlvdSBoYXZlIGEgbGFyZ2UgbGlzdCB0aGF0IGlzIHNsb3cgdG8gdXBkYXRlIC0gbWFrZSBzdXJlIHlvdXIgJyArXG4gICAgICAgICAgJ3JlbmRlckl0ZW0gZnVuY3Rpb24gcmVuZGVycyBjb21wb25lbnRzIHRoYXQgZm9sbG93IFJlYWN0IHBlcmZvcm1hbmNlIGJlc3QgcHJhY3RpY2VzICcgK1xuICAgICAgICAgICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsXG4gICAgICAgIHtkdCwgcHJldkR0OiB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0LCBjb250ZW50TGVuZ3RofSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQucGVyZiA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRm9yIGludmFsaWQgbmVnYXRpdmUgdmFsdWVzICh3LyBSVEwpLCBzZXQgdGhpcyB0byAxLlxuICAgIGNvbnN0IHpvb21TY2FsZSA9IGUubmF0aXZlRXZlbnQuem9vbVNjYWxlIDwgMCA/IDEgOiBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgZHQsXG4gICAgICBkT2Zmc2V0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgem9vbVNjYWxlLFxuICAgIH07XG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6IHN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCAtIDEsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FZGdlUmVhY2hlZCgpO1xuICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICB9O1xuXG4gIF9vZmZzZXRGcm9tU2Nyb2xsRXZlbnQoZTogU2Nyb2xsRXZlbnQpOiBudW1iZXIge1xuICAgIGNvbnN0IHtjb250ZW50T2Zmc2V0LCBjb250ZW50U2l6ZSwgbGF5b3V0TWVhc3VyZW1lbnR9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBjb25zdCB7aG9yaXpvbnRhbCwgcnRsfSA9IHRoaXMuX29yaWVudGF0aW9uKCk7XG4gICAgaWYgKGhvcml6b250YWwgJiYgcnRsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9zZWxlY3RMZW5ndGgoY29udGVudFNpemUpIC1cbiAgICAgICAgKHRoaXMuX3NlbGVjdE9mZnNldChjb250ZW50T2Zmc2V0KSArXG4gICAgICAgICAgdGhpcy5fc2VsZWN0TGVuZ3RoKGxheW91dE1lYXN1cmVtZW50KSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RPZmZzZXQoY29udGVudE9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICAvLyBPbmx5IHRyaWdnZXIgaGlnaC1wcmlvcml0eSB1cGRhdGVzIGlmIHdlJ3ZlIGFjdHVhbGx5IHJlbmRlcmVkIGNlbGxzLFxuICAgIC8vIGFuZCB3aXRoIHRoYXQgc2l6ZSBlc3RpbWF0ZSwgYWNjdXJhdGVseSBjb21wdXRlIGhvdyBtYW55IGNlbGxzIHdlIHNob3VsZCByZW5kZXIuXG4gICAgLy8gT3RoZXJ3aXNlLCBpdCB3b3VsZCBqdXN0IHJlbmRlciBhcyBtYW55IGNlbGxzIGFzIGl0IGNhbiAob2YgemVybyBkaW1lbnNpb24pLFxuICAgIC8vIGVhY2ggdGltZSB0aHJvdWdoIGF0dGVtcHRpbmcgdG8gcmVuZGVyIG1vcmUgKGxpbWl0ZWQgYnkgbWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgLy8gc3RhcnZpbmcgdGhlIHJlbmRlcmVyIGZyb20gYWN0dWFsbHkgbGF5aW5nIG91dCB0aGUgb2JqZWN0cyBhbmQgY29tcHV0aW5nIF9hdmVyYWdlQ2VsbExlbmd0aC5cbiAgICAvLyBJZiB0aGlzIGlzIHRyaWdnZXJlZCBpbiBhbiBgY29tcG9uZW50RGlkVXBkYXRlYCBmb2xsb3dlZCBieSBhIGhpUHJpIGNlbGxUb1JlbmRlclVwZGF0ZVxuICAgIC8vIFdlIHNob3VsZG4ndCBkbyBhbm90aGVyIGhpcHJpIGNlbGxUb1JlbmRlclVwZGF0ZVxuICAgIGlmIChcbiAgICAgICh0aGlzLl9saXN0TWV0cmljcy5nZXRBdmVyYWdlQ2VsbExlbmd0aCgpID4gMCB8fFxuICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQgIT0gbnVsbCkgJiZcbiAgICAgIHRoaXMuX3Nob3VsZFJlbmRlcldpdGhQcmlvcml0eSgpICYmXG4gICAgICAhdGhpcy5faGlQcmlJblByb2dyZXNzXG4gICAgKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgLy8gRG9uJ3Qgd29ycnkgYWJvdXQgaW50ZXJhY3Rpb25zIHdoZW4gc2Nyb2xsaW5nIHF1aWNrbHk7IGZvY3VzIG9uIGZpbGxpbmcgY29udGVudCBhcyBmYXN0XG4gICAgICAvLyBhcyBwb3NzaWJsZS5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3VsZFJlbmRlcldpdGhQcmlvcml0eSgpOiBib29sZWFuIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA9IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC1cbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MuZ2V0Q2VsbE1ldHJpY3NBcHByb3goZmlyc3QsIHRoaXMucHJvcHMpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdFRvcCA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5IDwgLTIgJiZcbiAgICAgICAgICBkaXN0VG9wIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoIWhpUHJpICYmIGxhc3QgPj0gMCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KGxhc3QsIHRoaXMucHJvcHMpLm9mZnNldCAtXG4gICAgICAgIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJlxuICAgICAgICAgIGRpc3RCb3R0b20gPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uRW5kUmVhY2hlZFRocmVzaG9sZCwgdmlzaWJsZUxlbmd0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiBoaVByaTtcbiAgfVxuXG4gIF9vblNjcm9sbEJlZ2luRHJhZyA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxFbmREcmFnKGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEJlZ2luID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgY29uc3QgY2VsbHNBcm91bmRWaWV3cG9ydCA9IHRoaXMuX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICBzdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQsXG4gICAgICApO1xuICAgICAgY29uc3QgcmVuZGVyTWFzayA9IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyhwcm9wcyksXG4gICAgICApO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IHN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgJiZcbiAgICAgICAgcmVuZGVyTWFzay5lcXVhbHMoc3RhdGUucmVuZGVyTWFzaylcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtjZWxsc0Fyb3VuZFZpZXdwb3J0LCByZW5kZXJNYXNrfTtcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlVmlld1Rva2VuID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaXNWaWV3YWJsZTogYm9vbGVhbixcbiAgICBwcm9wczogQ2VsbE1ldHJpY1Byb3BzLFxuICAgIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW19ID0gcHJvcHM7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleCxcbiAgICAgIGl0ZW0sXG4gICAgICBrZXk6IFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyksXG4gICAgICBpc1ZpZXdhYmxlLFxuICAgIH07XG4gIH07XG5cbiAgX19nZXRMaXN0TWV0cmljcygpOiBMaXN0TWV0cmljc0FnZ3JlZ2F0b3Ige1xuICAgIHJldHVybiB0aGlzLl9saXN0TWV0cmljcztcbiAgfVxuXG4gIF9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMgPSAoXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgKTogJFJlYWRPbmx5QXJyYXk8e1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICB9PiA9PiB7XG4gICAgLy8gS2VlcCBhIHZpZXdwb3J0J3Mgd29ydGggb2YgY29udGVudCBhcm91bmQgdGhlIGxhc3QgZm9jdXNlZCBjZWxsIHRvIGFsbG93XG4gICAgLy8gcmFuZG9tIG5hdmlnYXRpb24gYXJvdW5kIGl0IHdpdGhvdXQgYW55IGJsYW5raW5nLiBFLmcuIHRhYmJpbmcgZnJvbSBvbmVcbiAgICAvLyBmb2N1c2VkIGl0ZW0gb3V0IG9mIHZpZXdwb3J0IHRvIGFub3RoZXIuXG4gICAgaWYgKFxuICAgICAgISh0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgJiYgdGhpcy5fY2VsbFJlZnNbdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciA9IHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV07XG4gICAgY29uc3QgZm9jdXNlZENlbGxJbmRleCA9IGxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyLnByb3BzLmluZGV4O1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIC8vIFRoZSBsYXN0IGNlbGwgd2UgcmVuZGVyZWQgbWF5IGJlIGF0IGEgbmV3IGluZGV4LiBCYWlsIGlmIHdlIGRvbid0IGtub3dcbiAgICAvLyB3aGVyZSBpdCBpcy5cbiAgICBpZiAoXG4gICAgICBmb2N1c2VkQ2VsbEluZGV4ID49IGl0ZW1Db3VudCB8fFxuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBmb2N1c2VkQ2VsbEluZGV4KSAhPT1cbiAgICAgICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGZpcnN0IC0gMTtcbiAgICAgIGkgPj0gMCAmJiBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGktLVxuICAgICkge1xuICAgICAgZmlyc3QtLTtcbiAgICAgIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkICs9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIGxldCBsYXN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpID0gbGFzdCArIDE7XG4gICAgICBpIDwgaXRlbUNvdW50ICYmXG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkIDwgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgaSsrXG4gICAgKSB7XG4gICAgICBsYXN0Kys7XG4gICAgICBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkICs9IHRoaXMuX2xpc3RNZXRyaWNzLmdldENlbGxNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBbe2ZpcnN0LCBsYXN0fV07XG4gIH07XG5cbiAgX3VwZGF0ZVZpZXdhYmxlSXRlbXMoXG4gICAgcHJvcHM6IENlbGxNZXRyaWNQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcGVuZGluZyBzY3JvbGwgdXBkYXRlcyBpdCBtZWFucyB0aGF0IHRoZSBzY3JvbGwgbWV0cmljc1xuICAgIC8vIGFyZSBvdXQgb2YgZGF0ZSBhbmQgd2Ugc2hvdWxkIG5vdCBjYWxsIGFueSBvZiB0aGUgdmlzaWJpbGl0eSBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fbGlzdE1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6XG4gICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgICAgPyB7dHJhbnNmb3JtOiBbe3NjYWxlOiAtMX1dfVxuICAgICAgOiB7dHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XX0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUEwQkEsSUFBQUEsWUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksb0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLHNCQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyx1QkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsa0JBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLDRCQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVSx1QkFBQSxHQUFBVixPQUFBO0FBS0EsSUFBQVcscUJBQUEsR0FBQVgsT0FBQTtBQVFBLElBQUFZLGdCQUFBLEdBQUFaLE9BQUE7QUFJQSxJQUFBYSxVQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYyxXQUFBLEdBQUFmLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBZSxLQUFBLEdBQUFDLHVCQUFBLENBQUFoQixPQUFBO0FBQ0EsSUFBQWlCLFlBQUEsR0FBQWpCLE9BQUE7QUFRc0IsSUFBQWtCLFdBQUEsR0FBQWxCLE9BQUE7QUFBQSxJQUFBbUIsU0FBQTtBQUFBLFNBQUFDLHlCQUFBQyxDQUFB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