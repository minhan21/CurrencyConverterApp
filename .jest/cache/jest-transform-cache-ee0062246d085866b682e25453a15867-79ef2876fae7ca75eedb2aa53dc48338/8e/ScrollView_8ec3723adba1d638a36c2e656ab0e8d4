5fc729c47d0eb4a3c0dca5c169ebcc38
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _View = _interopRequireDefault(require("../View/View"));
var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));
var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
if (_Platform.default.OS === 'ios') {
  require('../../Renderer/shims/ReactNative');
}
var _ref = _Platform.default.OS === 'android' ? {
    NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
  } : {
    NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
  },
  NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
  NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _callSuper(this, ScrollView, [props]);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return _this;
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._scrollView.nativeInstance);
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(_this._scrollView.nativeInstance, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(_this._scrollView.nativeInstance, animated);
    };
    _this.flashScrollIndicators = function () {
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollView.nativeInstance);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(_this._scrollView.nativeInstance, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _inherits2.default)(ScrollView, _React$Component);
  return (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollView.nativeInstance, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
        _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
        NativeDirectionalScrollView = _ref3[0],
        NativeDirectionalScrollContentView = _ref3[1];
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      children = React.Children.toArray(children);
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        children = children.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, children)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeDirectionalScrollContentView, _objectSpread(_objectSpread({}, contentSizeChangeProps), {}, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread(_objectSpread({}, props), {}, {
    scrollViewRef: ref
  }));
}
Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0ZyYW1lUmF0ZUxvZ2dlciIsIl9SZW5kZXJlclByb3h5IiwiX1VJTWFuYWdlciIsIl9mbGF0dGVuU3R5bGUiLCJfc3BsaXRMYXlvdXRQcm9wczIiLCJfU3R5bGVTaGVldCIsIl9EaW1lbnNpb25zIiwiX2Rpc21pc3NLZXlib2FyZCIsIl9QbGF0Zm9ybSIsIl9LZXlib2FyZCIsIl9UZXh0SW5wdXRTdGF0ZSIsIl9WaWV3IiwiX0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJfQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiX3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwiX1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiX1Njcm9sbFZpZXdDb21tYW5kcyIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9pbnZhcmlhbnQiLCJfbWVtb2l6ZU9uZSIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfanN4UnVudGltZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsIl9jYWxsU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiUGxhdGZvcm0iLCJPUyIsIl9yZWYiLCJOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlIiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIk5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlIiwiU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIlZpZXciLCJTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIklTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMiLCJTY3JvbGxWaWV3IiwiX1JlYWN0JENvbXBvbmVudCIsInByb3BzIiwiX3RoaXMkcHJvcHMkY29udGVudE9mIiwiX3RoaXMkcHJvcHMkY29udGVudE9mMiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbiIsIl90aGlzJHByb3BzJGNvbnRlbnRJbjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQiLCJfc3RpY2t5SGVhZGVyUmVmcyIsIk1hcCIsIl9oZWFkZXJMYXlvdXRZcyIsIl9rZXlib2FyZE1ldHJpY3MiLCJfYWRkaXRpb25hbFNjcm9sbE9mZnNldCIsIl9pc1RvdWNoaW5nIiwiX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSIsIl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIiwiX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciIsIl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyIsIl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJfYW5pbWF0ZWQiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJfc2Nyb2xsVmlldyIsIm5hdGl2ZUluc3RhbmNlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsIl9pbm5lclZpZXciLCJnZXRJbm5lclZpZXdSZWYiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJzY3JvbGxUbyIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJ5IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsIkNvbW1hbmRzIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwibm9kZUhhbmRsZSIsImFkZGl0aW9uYWxPZmZzZXQiLCJwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQiLCJVSU1hbmFnZXIiLCJtZWFzdXJlTGF5b3V0IiwibnVsbHRocm93cyIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJyZWN0IiwiaW52YXJpYW50Iiwiem9vbVRvUmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImtleWJvYXJkU2NyZWVuWSIsIkRpbWVuc2lvbnMiLCJzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QiLCJzY3JlZW5ZIiwic2Nyb2xsT2Zmc2V0WSIsIk1hdGgiLCJtYXgiLCJzZXRUaW1lb3V0IiwiX2hhbmRsZVNjcm9sbCIsIm9uU2Nyb2xsIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0IiwiX2UkbmF0aXZlRXZlbnQkbGF5b3V0Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsImNyZWF0ZVJlZkZvcndhcmRlciIsImluc3RhbmNlIiwicHVibGljSW5zdGFuY2UiLCJhc3NpZ24iLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93IiwiZW5kQ29vcmRpbmF0ZXMiLCJvbktleWJvYXJkV2lsbFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlIiwib25LZXlib2FyZFdpbGxIaWRlIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93Iiwib25LZXlib2FyZERpZFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUiLCJvbktleWJvYXJkRGlkSGlkZSIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJGcmFtZVJhdGVMb2dnZXIiLCJlbmRTY3JvbGwiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyIsImJlZ2luU2Nyb2xsIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsImRpc21pc3NLZXlib2FyZCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX2hhbmRsZVNjcm9sbEVuZERyYWciLCJ2ZWxvY2l0eSIsIl9pc0FuaW1hdGluZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCIsImlzQW5pbWF0aW5nIiwiX2hhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJHcmFudCIsIl9oYW5kbGVSZXNwb25kZXJSZWplY3QiLCJfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoZXMiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0YXJnZXQiLCJfX0RFVl9fIiwiZXJyb3IiLCJjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0IiwiVGV4dElucHV0U3RhdGUiLCJjdXJyZW50bHlGb2N1c2VkSW5wdXQiLCJrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIiwiX2tleWJvYXJkSXNEaXNtaXNzaWJsZSIsImJsdXJUZXh0SW5wdXQiLCJfaGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwiX2hhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsImRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyIiwiX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsImtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyIsIl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkIiwiaXNUZXh0SW5wdXQiLCJoYXNGb2N1c2VkVGV4dElucHV0Iiwic29mdEtleWJvYXJkTWF5QmVPcGVuIiwiX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZSIsIlZlcnNpb24iLCJfaGFuZGxlVG91Y2hFbmQiLCJrZXlib2FyZE5ldmVyUGVyc2lzdHNUYXBzIiwib25Ub3VjaEVuZCIsIl9oYW5kbGVUb3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJfaGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hTdGFydCIsIl9oYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoTW92ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIlZhbHVlIiwiY29udGVudE9mZnNldCIsInNldE9mZnNldCIsImNvbnRlbnRJbnNldCIsIl9pbmhlcml0czIiLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJjb21wb25lbnREaWRNb3VudCIsIktleWJvYXJkIiwibWV0cmljcyIsImFkZExpc3RlbmVyIiwiX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2Q29udGVudEluc2V0VG9wIiwibmV3Q29udGVudEluc2V0VG9wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW1vdmUiLCJkZXRhY2giLCJfZ2V0S2V5Rm9ySW5kZXgiLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJyZWYiLCJkZWxldGUiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJldmVudCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImNoaWxkcmVuIiwibGF5b3V0WSIsImluZGV4T2ZJbmRleCIsImluZGV4T2YiLCJwcmV2aW91c0hlYWRlckluZGV4IiwicHJldmlvdXNIZWFkZXIiLCJzZXROZXh0SGVhZGVyWSIsInJlbmRlciIsIl90aGlzMiIsIl9yZWYyIiwiaG9yaXpvbnRhbCIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkyIiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50VmlldyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJmbGF0dGVuU3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsImpzeCIsIm5leHRIZWFkZXJMYXlvdXRZIiwic2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsImludmVydGVkIiwiaGlkZGVuT25TY3JvbGwiLCJzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbCIsInNjcm9sbFZpZXdIZWlnaHQiLCJQcm92aWRlciIsIkhPUklaT05UQUwiLCJWRVJUSUNBTCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwiZ2V0Rm9yd2FyZGluZ1JlZiIsImlubmVyVmlld1JlZiIsInJlbW92ZUNsaXBwZWRTdWJ2aWV3cyIsImNvbGxhcHNhYmxlIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJTdHlsZVNoZWV0IiwiY29tcG9zZSIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJzY3JvbGxWaWV3UmVmIiwianN4cyIsIl9zcGxpdExheW91dFByb3BzIiwic3BsaXRMYXlvdXRQcm9wcyIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJDb250ZXh0IiwiU2Nyb2xsVmlld0NvbnRleHQiLCJjcmVhdGUiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtdXRhdG9yIiwibWVtb2l6ZSIsImZvcndhcmRlZFJlZiIsImN1cnJlbnQiLCJXcmFwcGVyIiwiZGlzcGxheU5hbWUiLCJGb3J3YXJkZWRTY3JvbGxWaWV3IiwiZm9yd2FyZFJlZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTY3JvbGxWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SG9zdENvbXBvbmVudH0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7RWRnZUluc2V0c1Byb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtQb2ludFByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvUG9pbnRQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXRFdmVudCxcbiAgUHJlc3NFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG59IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcbmltcG9ydCB0eXBlIHtLZXlib2FyZEV2ZW50LCBLZXlib2FyZE1ldHJpY3N9IGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuXG5pbXBvcnQgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiBmcm9tICcuLi8uLi9BbmltYXRlZC9BbmltYXRlZEltcGxlbWVudGF0aW9uJztcbmltcG9ydCBGcmFtZVJhdGVMb2dnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vRnJhbWVSYXRlTG9nZ2VyJztcbmltcG9ydCB7ZmluZE5vZGVIYW5kbGV9IGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1JlbmRlcmVyUHJveHknO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgc3BsaXRMYXlvdXRQcm9wcyBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnO1xuaW1wb3J0IFN0eWxlU2hlZXQgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBEaW1lbnNpb25zIGZyb20gJy4uLy4uL1V0aWxpdGllcy9EaW1lbnNpb25zJztcbmltcG9ydCBkaXNtaXNzS2V5Ym9hcmQgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL2Rpc21pc3NLZXlib2FyZCc7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCBLZXlib2FyZCBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgVGV4dElucHV0U3RhdGUgZnJvbSAnLi4vVGV4dElucHV0L1RleHRJbnB1dFN0YXRlJztcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgZnJvbSAnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSc7XG5pbXBvcnQgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgQ29tbWFuZHMgZnJvbSAnLi9TY3JvbGxWaWV3Q29tbWFuZHMnO1xuaW1wb3J0IFNjcm9sbFZpZXdDb250ZXh0LCB7SE9SSVpPTlRBTCwgVkVSVElDQUx9IGZyb20gJy4vU2Nyb2xsVmlld0NvbnRleHQnO1xuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIGZyb20gJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcic7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdtZW1vaXplLW9uZSc7XG5pbXBvcnQgbnVsbHRocm93cyBmcm9tICdudWxsdGhyb3dzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICByZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpOyAvLyBGb3JjZSBzaWRlIGVmZmVjdHMgdG8gcHJldmVudCBUNTU3NDQzMTFcbn1cblxuY29uc3Qge05hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGUsIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlfSA9XG4gIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICA/IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgICBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTogW1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsIFZpZXddLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICAgIFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuLypcbiAqIGlPUyBzY3JvbGwgZXZlbnQgdGltaW5nIG51YW5jZXM6XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRob3V0IGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggc3RhcnRzIC4uLlxuICogMi4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKHdoZW4geW91IHByZXNzIGRvd24gdG8gc3RvcCB0aGUgc2Nyb2xsKVxuICogMy4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA0LiBgb25SZXNwb25kZXJSZWxlYXNlYCAgICAod2hlbiBsaWZ0aW5nIHVwIC0geW91IGNvdWxkIHBhdXNlIGZvcmV2ZXIgYmVmb3JlICogbGlmdGluZylcbiAqIDUuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYFxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIGJvdW5jZSBiZWdpbnMgLi4uXG4gKiAgICAuLi4gc29tZSB0aW1lIGVsYXBzZXMgLi4uXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggZHVyaW5nIGJvdW5jZSAuLi5cbiAqIDIuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCAgIChNYWtlcyBubyBzZW5zZSB3aHkgdGhpcyBvY2N1cnMgZmlyc3QgZHVyaW5nIGJvdW5jZSlcbiAqIDMuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgIChpbW1lZGlhdGVseSBhZnRlciBgb25Nb21lbnR1bVNjcm9sbEVuZGApXG4gKiA0LiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDUuIGBvblRvdWNoRW5kYCAgICAgICAgICAgIChZb3UgY291bGQgaG9sZCB0aGUgdG91Y2ggc3RhcnQgZm9yIGEgbG9uZyB0aW1lKVxuICogNi4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKFdoZW4gcmVsZWFzaW5nIHRoZSB2aWV3IHN0YXJ0cyBib3VuY2luZyBiYWNrKVxuICpcbiAqIFNvIHdoZW4gd2UgcmVjZWl2ZSBhbiBgb25Ub3VjaFN0YXJ0YCwgaG93IGNhbiB3ZSB0ZWxsIGlmIHdlIGFyZSB0b3VjaGluZ1xuICogKmR1cmluZyogYW4gYW5pbWF0aW9uICh3aGljaCB0aGVuIGNhdXNlcyB0aGUgYW5pbWF0aW9uIHRvIHN0b3ApPyBUaGUgb25seSB3YXlcbiAqIHRvIHRlbGwgaXMgaWYgdGhlIGB0b3VjaFN0YXJ0YCBvY2N1cnJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAqIGBvbk1vbWVudHVtU2Nyb2xsRW5kYC5cbiAqXG4gKiBUaGlzIGlzIGFic3RyYWN0ZWQgb3V0IGZvciB5b3UsIHNvIHlvdSBjYW4ganVzdCBjYWxsIHRoaXMuc2Nyb2xsUmVzcG9uZGVySXNBbmltYXRpbmcoKSBpZlxuICogbmVjZXNzYXJ5XG4gKlxuICogYFNjcm9sbFZpZXdgIGFsc28gaW5jbHVkZXMgbG9naWMgZm9yIGJsdXJyaW5nIGEgY3VycmVudGx5IGZvY3VzZWQgaW5wdXRcbiAqIGlmIG9uZSBpcyBmb2N1c2VkIHdoaWxlIHNjcm9sbGluZy4gVGhpcyBpcyBhIG5hdHVyYWwgcGxhY2VcbiAqIHRvIHB1dCB0aGlzIGxvZ2ljIHNpbmNlIGl0IGNhbiBzdXBwb3J0IG5vdCBkaXNtaXNzaW5nIHRoZSBrZXlib2FyZCB3aGlsZVxuICogc2Nyb2xsaW5nLCB1bmxlc3MgYSByZWNvZ25pemVkIFwidGFwXCItbGlrZSBnZXN0dXJlIGhhcyBvY2N1cnJlZC5cbiAqXG4gKiBUaGUgcHVibGljIGxpZmVjeWNsZSBBUEkgaW5jbHVkZXMgZXZlbnRzIGZvciBrZXlib2FyZCBpbnRlcmFjdGlvbiwgcmVzcG9uZGVyXG4gKiBpbnRlcmFjdGlvbiwgYW5kIHNjcm9sbGluZyAoYW1vbmcgb3RoZXJzKS4gVGhlIGtleWJvYXJkIGNhbGxiYWNrc1xuICogYG9uS2V5Ym9hcmRXaWxsL0RpZC8qYCBhcmUgKmdsb2JhbCogZXZlbnRzLCBidXQgYXJlIGludm9rZWQgb24gc2Nyb2xsXG4gKiByZXNwb25kZXIncyBwcm9wcyBzbyB0aGF0IHlvdSBjYW4gZ3VhcmFudGVlIHRoYXQgdGhlIHNjcm9sbCByZXNwb25kZXInc1xuICogaW50ZXJuYWwgc3RhdGUgaGFzIGJlZW4gdXBkYXRlZCBhY2NvcmRpbmdseSAoYW5kIGRldGVybWluaXN0aWNhbGx5KSBieVxuICogdGhlIHRpbWUgdGhlIHByb3BzIGNhbGxiYWNrcyBhcmUgaW52b2tlLiBPdGhlcndpc2UsIHlvdSB3b3VsZCBhbHdheXMgd29uZGVyXG4gKiBpZiB0aGUgc2Nyb2xsIHJlc3BvbmRlciBpcyBjdXJyZW50bHkgaW4gYSBzdGF0ZSB3aGVyZSBpdCByZWNvZ25pemVzIG5ld1xuICoga2V5Ym9hcmQgcG9zaXRpb25zIGV0Yy4gSWYgY29vcmRpbmF0aW5nIHNjcm9sbGluZyB3aXRoIGtleWJvYXJkIG1vdmVtZW50LFxuICogKmFsd2F5cyogdXNlIHRoZXNlIGhvb2tzIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvIHlvdXIgb3duIGdsb2JhbCBrZXlib2FyZFxuICogZXZlbnRzLlxuICpcbiAqIFB1YmxpYyBrZXlib2FyZCBsaWZlY3ljbGUgQVBJOiAocHJvcHMgY2FsbGJhY2tzKVxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEFwcGVhcmFuY2UgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvd1xuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93XG4gKlxuICogYG9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRgIHdpbGwgYmUgaW52b2tlZCBpZiBhbiBhcHByb3ByaWF0ZVxuICogdGFwIGluc2lkZSB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzIHNjcm9sbGFibGUgcmVnaW9uIHdhcyByZXNwb25zaWJsZVxuICogZm9yIHRoZSBkaXNtaXNzYWwgb2YgdGhlIGtleWJvYXJkLiBUaGVyZSBhcmUgb3RoZXIgcmVhc29ucyB3aHkgdGhlXG4gKiBrZXlib2FyZCBjb3VsZCBiZSBkaXNtaXNzZWQuXG4gKlxuICogICB0aGlzLnByb3BzLm9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBIaWRlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGVcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZVxuICovXG5cbi8vIFB1YmxpYyBtZXRob2RzIGZvciBTY3JvbGxWaWV3XG5leHBvcnQgdHlwZSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMgPSAkUmVhZE9ubHk8e3xcbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxSZXNwb25kZXInPixcbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbGFibGVOb2RlJz4sXG4gIGdldElubmVyVmlld05vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld05vZGUnPixcbiAgZ2V0SW5uZXJWaWV3UmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdSZWYnPixcbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXROYXRpdmVTY3JvbGxSZWYnPixcbiAgc2Nyb2xsVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFRvJz4sXG4gIHNjcm9sbFRvRW5kOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUb0VuZCc+LFxuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2ZsYXNoU2Nyb2xsSW5kaWNhdG9ycyc+LFxuICBzY3JvbGxSZXNwb25kZXJab29tVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFJlc3BvbmRlclpvb21Ubyc+LFxuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiAkUHJvcGVydHlUeXBlPFxuICAgIFNjcm9sbFZpZXcsXG4gICAgJ3Njcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQnLFxuICA+LFxufH0+O1xuXG5leHBvcnQgdHlwZSBEZWNlbGVyYXRpb25SYXRlVHlwZSA9ICdmYXN0JyB8ICdub3JtYWwnIHwgbnVtYmVyO1xuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcztcblxudHlwZSBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UgPSBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PjtcbnR5cGUgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gJFJlYWRPbmx5PHt8XG4gIC4uLiRFeGFjdDxOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2U+LFxuICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG58fT47XG5cbnR5cGUgSW5uZXJWaWV3SW5zdGFuY2UgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PjtcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBTY3JvbGxWaWV3IHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCBpdHMgYGNvbnRlbnRJbnNldGBcbiAgICogYW5kIGBzY3JvbGxWaWV3SW5zZXRzYCB3aGVuIHRoZSBLZXlib2FyZCBjaGFuZ2VzIGl0cyBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdEtleWJvYXJkSW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIHNjcm9sbCBpbmRpY2F0b3JcbiAgICogaW5zZXRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLiBBdmFpbGFibGUgb24gaU9TIDEzIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdHNTY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgaXMgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBEZWZhdWx0cyB0byBge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXQ/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogVGhlIG1heGltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1heGltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1pbmltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IGFsbG93cyB1c2Ugb2YgcGluY2ggZ2VzdHVyZXMgdG8gem9vbSBpbiBhbmQgb3V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwaW5jaEdlc3R1cmVFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY2FsZSBvZiB0aGUgc2Nyb2xsIHZpZXcgY29udGVudC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICB6b29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaG93IHRoZSBzYWZlIGFyZWEgaW5zZXRzIGFyZSB1c2VkIHRvIG1vZGlmeSB0aGVcbiAgICogY29udGVudCBhcmVhIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpc1xuICAgKiBcIm5ldmVyXCIuIEF2YWlsYWJsZSBvbiBpT1MgMTEgYW5kIGxhdGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXRBZGp1c3RtZW50QmVoYXZpb3I/OiA/KFxuICAgIHwgJ2F1dG9tYXRpYydcbiAgICB8ICdzY3JvbGxhYmxlQXhlcydcbiAgICB8ICduZXZlcidcbiAgICB8ICdhbHdheXMnXG4gICksXG58fT47XG5cbnR5cGUgQW5kcm9pZFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBFbmFibGVzIG5lc3RlZCBzY3JvbGxpbmcgZm9yIEFuZHJvaWQgQVBJIGxldmVsIDIxKy5cbiAgICogTmVzdGVkIHNjcm9sbGluZyBpcyBzdXBwb3J0ZWQgYnkgZGVmYXVsdCBvbiBpT1NcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG5lc3RlZFNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBhIHNjcm9sbHZpZXcgdGFrZXMgdXAgbW9yZSBzcGFjZSB0aGFuIGl0cyBjb250ZW50IGZpbGxzLiBXaGVuIHRoaXMgaXNcbiAgICogdGhlIGNhc2UsIHRoaXMgcHJvcCB3aWxsIGZpbGwgdGhlIHJlc3Qgb2YgdGhlIHNjcm9sbHZpZXcgd2l0aCBhIGNvbG9yIHRvIGF2b2lkIHNldHRpbmdcbiAgICogYSBiYWNrZ3JvdW5kIGFuZCBjcmVhdGluZyB1bm5lY2Vzc2FyeSBvdmVyZHJhdy4gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpbWl6YXRpb25cbiAgICogdGhhdCBpcyBub3QgbmVlZGVkIGluIHRoZSBnZW5lcmFsIGNhc2UuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBlbmRGaWxsQ29sb3I/OiA/Q29sb3JWYWx1ZSxcbiAgLyoqXG4gICAqIFRhZyB1c2VkIHRvIGxvZyBzY3JvbGwgcGVyZm9ybWFuY2Ugb24gdGhpcyBzY3JvbGwgdmlldy4gV2lsbCBmb3JjZVxuICAgKiBtb21lbnR1bSBldmVudHMgdG8gYmUgdHVybmVkIG9uIChzZWUgc2VuZE1vbWVudHVtRXZlbnRzKS4gVGhpcyBkb2Vzbid0IGRvXG4gICAqIGFueXRoaW5nIG91dCBvZiB0aGUgYm94IGFuZCB5b3UgbmVlZCB0byBpbXBsZW1lbnQgYSBjdXN0b20gbmF0aXZlXG4gICAqIEZwc0xpc3RlbmVyIGZvciBpdCB0byBiZSB1c2VmdWwuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBzY3JvbGxQZXJmVGFnPzogP3N0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gb3ZlcnJpZGUgZGVmYXVsdCB2YWx1ZSBvZiBvdmVyU2Nyb2xsIG1vZGUuXG4gICAqXG4gICAqIFBvc3NpYmxlIHZhbHVlczpcbiAgICpcbiAgICogIC0gYCdhdXRvJ2AgLSBEZWZhdWx0IHZhbHVlLCBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGxcbiAgICogICAgdGhpcyB2aWV3IG9ubHkgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2UgZW5vdWdoIHRvIG1lYW5pbmdmdWxseSBzY3JvbGwuXG4gICAqICAtIGAnYWx3YXlzJ2AgLSBBbHdheXMgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICogIC0gYCduZXZlcidgIC0gTmV2ZXIgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG92ZXJTY3JvbGxNb2RlPzogPygnYXV0bycgfCAnYWx3YXlzJyB8ICduZXZlcicpLFxuICAvKipcbiAgICogQ2F1c2VzIHRoZSBzY3JvbGxiYXJzIG5vdCB0byB0dXJuIHRyYW5zcGFyZW50IHdoZW4gdGhleSBhcmUgbm90IGluIHVzZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGYWRlcyBvdXQgdGhlIGVkZ2VzIG9mIHRoZSBzY3JvbGwgY29udGVudC5cbiAgICpcbiAgICogSWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiAwLCB0aGUgZmFkaW5nIGVkZ2VzIHdpbGwgYmUgc2V0IGFjY29yZGluZ2x5XG4gICAqIHRvIHRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24gYW5kIHBvc2l0aW9uLFxuICAgKiBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIG1vcmUgY29udGVudCB0byBzaG93LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAwLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZmFkaW5nRWRnZUxlbmd0aD86ID9udW1iZXIsXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTxpbnRlcmZhY2Uge3NldE5leHRIZWFkZXJZOiBudW1iZXIgPT4gdm9pZH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID9EZWNlbGVyYXRpb25SYXRlVHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3J3MgY2hpbGRyZW4gYXJlIGFycmFuZ2VkIGhvcml6b250YWxseSBpbiBhIHJvd1xuICAgKiBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkgaW4gYSBjb2x1bW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSWYgc3RpY2t5IGhlYWRlcnMgc2hvdWxkIHN0aWNrIGF0IHRoZSBib3R0b20gaW5zdGVhZCBvZiB0aGUgdG9wIG9mIHRoZVxuICAgKiBTY3JvbGxWaWV3LiBUaGlzIGlzIHVzdWFsbHkgdXNlZCB3aXRoIGludmVydGVkIFNjcm9sbFZpZXdzLlxuICAgKi9cbiAgaW52ZXJ0U3RpY2t5SGVhZGVycz86ID9ib29sZWFuLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBrZXlib2FyZCBnZXRzIGRpc21pc3NlZCBpbiByZXNwb25zZSB0byBhIGRyYWcuXG4gICAqXG4gICAqICpDcm9zcyBwbGF0Zm9ybSpcbiAgICpcbiAgICogICAtIGAnbm9uZSdgICh0aGUgZGVmYXVsdCksIGRyYWdzIGRvIG5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZC5cbiAgICogICAtIGAnb24tZHJhZydgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIHdoZW4gYSBkcmFnIGJlZ2lucy5cbiAgICpcbiAgICogKmlPUyBPbmx5KlxuICAgKlxuICAgKiAgIC0gYCdpbnRlcmFjdGl2ZSdgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIGludGVyYWN0aXZlbHkgd2l0aCB0aGUgZHJhZyBhbmQgbW92ZXMgaW5cbiAgICogICAgIHN5bmNocm9ueSB3aXRoIHRoZSB0b3VjaDsgZHJhZ2dpbmcgdXB3YXJkcyBjYW5jZWxzIHRoZSBkaXNtaXNzYWwuXG4gICAqICAgICBPbiBhbmRyb2lkIHRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgaXQgd2lsbCBoYXZlIHRoZSBzYW1lIGJlaGF2aW9yIGFzICdub25lJy5cbiAgICovXG4gIGtleWJvYXJkRGlzbWlzc01vZGU/OiA/Ly8gZGVmYXVsdFxuICAvLyBjcm9zcy1wbGF0Zm9ybVxuICAoJ25vbmUnIHwgJ29uLWRyYWcnIHwgJ2ludGVyYWN0aXZlJyksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgdHJ1ZSB8IGZhbHNlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIGVuZHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsRW5kPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy5cbiAgICovXG4gIG9uU2Nyb2xsPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIHNjcm9sbCB2aWV3IGFuZCBpdCBlaXRoZXIgc3RvcHNcbiAgICogb3IgYmVnaW5zIHRvIGdsaWRlLlxuICAgKi9cbiAgb25TY3JvbGxFbmREcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmRXaWxsU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxIaWRlPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCB0aGUgdmlldyBjYW5ub3QgYmUgc2Nyb2xsZWQgdmlhIHRvdWNoIGludGVyYWN0aW9uLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIHZpZXcgY2FuIGFsd2F5cyBiZSBzY3JvbGxlZCBieSBjYWxsaW5nIGBzY3JvbGxUb2AuXG4gICAqL1xuICBzY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBMaW1pdHMgaG93IG9mdGVuIHNjcm9sbCBldmVudHMgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmcsIHNwZWNpZmllZCBhc1xuICAgKiBhIHRpbWUgaW50ZXJ2YWwgaW4gbXMuIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuIGV4cGVuc2l2ZSB3b3JrIGlzIHBlcmZvcm1lZFxuICAgKiBpbiByZXNwb25zZSB0byBzY3JvbGxpbmcuIFZhbHVlcyA8PSBgMTZgIHdpbGwgZGlzYWJsZSB0aHJvdHRsaW5nLFxuICAgKiByZWdhcmRsZXNzIG9mIHRoZSByZWZyZXNoIHJhdGUgb2YgdGhlIGRldmljZS5cbiAgICovXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIHZlcnRpY2FsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFN0aWNreSBoZWFkZXIgaXMgaGlkZGVuIHdoZW4gc2Nyb2xsaW5nIGRvd24sIGFuZCBkb2NrIGF0IHRoZSB0b3BcbiAgICogd2hlbiBzY3JvbGxpbmcgdXBcbiAgICovXG4gIHN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGlsZCBpbmRpY2VzIGRldGVybWluaW5nIHdoaWNoIGNoaWxkcmVuIGdldCBkb2NrZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2NyZWVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgcGFzc2luZ1xuICAgKiBgc3RpY2t5SGVhZGVySW5kaWNlcz17WzBdfWAgd2lsbCBjYXVzZSB0aGUgZmlyc3QgY2hpbGQgdG8gYmUgZml4ZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvblxuICAgKiB3aXRoIGBob3Jpem9udGFsPXt0cnVlfWAuXG4gICAqL1xuICBzdGlja3lIZWFkZXJJbmRpY2VzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBBIFJlYWN0IENvbXBvbmVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgc3RpY2t5IGhlYWRlcnMuXG4gICAqIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc3RpY2t5SGVhZGVySW5kaWNlc2Agb3Igd2l0aCBgU2VjdGlvbkxpc3RgLCBkZWZhdWx0cyB0byBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAqIFlvdSBtYXkgbmVlZCB0byBzZXQgdGhpcyBpZiB5b3VyIHN0aWNreSBoZWFkZXIgdXNlcyBjdXN0b20gdHJhbnNmb3JtcyAoZWcuIHRyYW5zbGF0aW9uKSxcbiAgICogZm9yIGV4YW1wbGUgd2hlbiB5b3Ugd2FudCB5b3VyIGxpc3QgdG8gaGF2ZSBhbiBhbmltYXRlZCBoaWRhYmxlIGhlYWRlci5cbiAgICovXG4gIFN0aWNreUhlYWRlckNvbXBvbmVudD86IFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqL1xuICBzbmFwVG9BbGlnbm1lbnQ/OiA/KCdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnKSxcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgbXVsdGlwbGVzIG9mIHRoZSB2YWx1ZSBvZlxuICAgKiBgc25hcFRvSW50ZXJ2YWxgLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgc25hcFRvQWxpZ25tZW50YCBhbmQgYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIHByb3AuXG4gICAqL1xuICBzbmFwVG9JbnRlcnZhbD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IHRoZSBkZWZpbmVkIG9mZnNldHMuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCB2YXJpb3VzbHkgc2l6ZWQgY2hpbGRyZW5cbiAgICogdGhhdCBoYXZlIGxlbmd0aHMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldy4gVHlwaWNhbGx5IHVzZWQgaW5cbiAgICogY29tYmluYXRpb24gd2l0aCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgYW5kIGBzbmFwVG9JbnRlcnZhbGAgcHJvcHMuXG4gICAqL1xuICBzbmFwVG9PZmZzZXRzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBiZWdpbm5pbmdcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvU3RhcnRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBzdGFydCBhbmRcbiAgICogdGhlIGZpcnN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9TdGFydD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgZW5kXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb0VuZGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIGVuZCBhbmRcbiAgICogdGhlIGxhc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb0VuZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogRXhwZXJpbWVudGFsOiBXaGVuIHRydWUsIG9mZnNjcmVlbiBjaGlsZCB2aWV3cyAod2hvc2UgYG92ZXJmbG93YCB2YWx1ZSBpc1xuICAgKiBgaGlkZGVuYCkgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBuYXRpdmUgYmFja2luZyBzdXBlcnZpZXcgd2hlbiBvZmZzY3JlZW4uXG4gICAqIFRoaXMgY2FuIGltcHJvdmUgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlIG9uIGxvbmcgbGlzdHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzXG4gICAqIHRydWUuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEEgUmVmcmVzaENvbnRyb2wgY29tcG9uZW50LCB1c2VkIHRvIHByb3ZpZGUgcHVsbC10by1yZWZyZXNoXG4gICAqIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBTY3JvbGxWaWV3LiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBTY3JvbGxWaWV3c1xuICAgKiAoYGhvcml6b250YWxgIHByb3AgbXVzdCBiZSBgZmFsc2VgKS5cbiAgICpcbiAgICogU2VlIFtSZWZyZXNoQ29udHJvbF0oZG9jcy9yZWZyZXNoY29udHJvbC5odG1sKS5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbdW5jbGVhci10eXBlXSAtIGhvdyB0byBoYW5kbGUgZ2VuZXJpYyB0eXBlIHdpdGhvdXQgZXhpc3RlbnRpYWxcbiAgICogb3BlcmF0b3I/ICovXG4gIHJlZnJlc2hDb250cm9sPzogP1JlYWN0LkVsZW1lbnQ8YW55PixcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIGlubmVyIFZpZXcgZWxlbWVudCBvZiB0aGUgU2Nyb2xsVmlldy4gVGhpcyBzaG91bGQgYmUgdXNlZFxuICAgKiBpbnN0ZWFkIG9mIGNhbGxpbmcgYGdldElubmVyVmlld1JlZmAuXG4gICAqL1xuICBpbm5lclZpZXdSZWY/OiBGb3J3YXJkZWRSZWY8SW5uZXJWaWV3SW5zdGFuY2U+LFxuICAvKipcbiAgICogQSByZWYgdG8gdGhlIE5hdGl2ZSBTY3JvbGxWaWV3IGNvbXBvbmVudC4gVGhpcyByZWYgY2FuIGJlIHVzZWQgdG8gY2FsbFxuICAgKiBhbGwgb2YgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzLCBpbiBhZGRpdGlvbiB0byBuYXRpdmUgbWV0aG9kcyBsaWtlXG4gICAqIG1lYXN1cmUsIG1lYXN1cmVMYXlvdXQsIGV0Yy5cbiAgICovXG4gIHNjcm9sbFZpZXdSZWY/OiBGb3J3YXJkZWRSZWY8UHVibGljU2Nyb2xsVmlld0luc3RhbmNlPixcbnx9PjtcblxudHlwZSBTdGF0ZSA9IHt8XG4gIGxheW91dEhlaWdodDogP251bWJlcixcbnx9O1xuXG5jb25zdCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TID0gMTY7XG5cbmV4cG9ydCB0eXBlIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCxcbnx9PjtcblxuLyoqXG4gKiBDb21wb25lbnQgdGhhdCB3cmFwcyBwbGF0Zm9ybSBTY3JvbGxWaWV3IHdoaWxlIHByb3ZpZGluZ1xuICogaW50ZWdyYXRpb24gd2l0aCB0b3VjaCBsb2NraW5nIFwicmVzcG9uZGVyXCIgc3lzdGVtLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IFNjcm9sbFZpZXdzIG11c3QgaGF2ZSBhIGJvdW5kZWQgaGVpZ2h0IGluIG9yZGVyIHRvIHdvcmssXG4gKiBzaW5jZSB0aGV5IGNvbnRhaW4gdW5ib3VuZGVkLWhlaWdodCBjaGlsZHJlbiBpbnRvIGEgYm91bmRlZCBjb250YWluZXIgKHZpYVxuICogYSBzY3JvbGwgaW50ZXJhY3Rpb24pLiBJbiBvcmRlciB0byBib3VuZCB0aGUgaGVpZ2h0IG9mIGEgU2Nyb2xsVmlldywgZWl0aGVyXG4gKiBzZXQgdGhlIGhlaWdodCBvZiB0aGUgdmlldyBkaXJlY3RseSAoZGlzY291cmFnZWQpIG9yIG1ha2Ugc3VyZSBhbGwgcGFyZW50XG4gKiB2aWV3cyBoYXZlIGJvdW5kZWQgaGVpZ2h0LiBGb3JnZXR0aW5nIHRvIHRyYW5zZmVyIGB7ZmxleDogMX1gIGRvd24gdGhlXG4gKiB2aWV3IHN0YWNrIGNhbiBsZWFkIHRvIGVycm9ycyBoZXJlLCB3aGljaCB0aGUgZWxlbWVudCBpbnNwZWN0b3IgbWFrZXNcbiAqIGVhc3kgdG8gZGVidWcuXG4gKlxuICogRG9lc24ndCB5ZXQgc3VwcG9ydCBvdGhlciBjb250YWluZWQgcmVzcG9uZGVycyBmcm9tIGJsb2NraW5nIHRoaXMgc2Nyb2xsXG4gKiB2aWV3IGZyb20gYmVjb21pbmcgdGhlIHJlc3BvbmRlci5cbiAqXG4gKlxuICogYDxTY3JvbGxWaWV3PmAgdnMgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0ID0gU2Nyb2xsVmlld0NvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZSA9IG5ldyBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0Py55ID8/IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldCh0aGlzLnByb3BzLmNvbnRlbnRJbnNldD8udG9wID8/IDApO1xuICB9XG5cbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWU7XG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudDogP3tkZXRhY2g6ICgpID0+IHZvaWQsIC4uLn0gPSBudWxsO1xuICBfc3RpY2t5SGVhZGVyUmVmczogTWFwPHN0cmluZywgUmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPj4gPVxuICAgIG5ldyBNYXAoKTtcbiAgX2hlYWRlckxheW91dFlzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIF9rZXlib2FyZE1ldHJpY3M6ID9LZXlib2FyZE1ldHJpY3MgPSBudWxsO1xuICBfYWRkaXRpb25hbFNjcm9sbE9mZnNldDogbnVtYmVyID0gMDtcbiAgX2lzVG91Y2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTogbnVtYmVyID0gMDtcbiAgX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgLy8gUmVzZXQgdG8gZmFsc2UgZXZlcnkgdGltZSBiZWNvbWVzIHJlc3BvbmRlci4gVGhpcyBpcyB1c2VkIHRvOlxuICAvLyAtIERldGVybWluZSBpZiB0aGUgc2Nyb2xsIHZpZXcgaGFzIGJlZW4gc2Nyb2xsZWQgYW5kIHRoZXJlZm9yZSBzaG91bGRcbiAgLy8gcmVmdXNlIHRvIGdpdmUgdXAgaXRzIHJlc3BvbmRlciBsb2NrLlxuICAvLyAtIERldGVybWluZSBpZiByZWxlYXNpbmcgc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkIHdoZW4gd2UgYXJlIGluXG4gIC8vIHRhcC10by1kaXNtaXNzIG1vZGUgKHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycpLlxuICBfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIF9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0OiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX2FuaW1hdGVkOiA/Ym9vbGVhbiA9IG51bGw7XG5cbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuXG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBsYXlvdXRIZWlnaHQ6IG51bGwsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdib29sZWFuJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9eyR7XG4gICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgICB9fScgaXMgZGVwcmVjYXRlZC4gYCArXG4gICAgICAgICAgYFVzZSAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz1cIiR7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPyAnYWx3YXlzJyA6ICduZXZlcidcbiAgICAgICAgICB9XCInIGluc3RlYWRgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBLZXlib2FyZC5tZXRyaWNzKCk7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IDA7XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmRXaWxsSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGUsXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3csXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZERpZEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUsXG4gICAgKTtcblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgcHJldkNvbnRlbnRJbnNldFRvcCA9IHByZXZQcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gcHJldlByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBjb25zdCBuZXdDb250ZW50SW5zZXRUb3AgPSB0aGlzLnByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyB0aGlzLnByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBpZiAocHJldkNvbnRlbnRJbnNldFRvcCAhPT0gbmV3Q29udGVudEluc2V0VG9wKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChuZXdDb250ZW50SW5zZXRUb3AgfHwgMCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlciwgd2hpY2ggc3VwcG9ydHNcbiAgICogb3BlcmF0aW9ucyBsaWtlIGBzY3JvbGxUb2AuIEFsbCBTY3JvbGxWaWV3LWxpa2UgY29tcG9uZW50cyBzaG91bGRcbiAgICogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHNvIHRoYXQgdGhleSBjYW4gYmUgY29tcG9zZWQgd2hpbGUgcHJvdmlkaW5nIGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyJ3MgbWV0aG9kcy5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcjogKCkgPT4gU2Nyb2xsUmVzcG9uZGVyVHlwZSA9ICgpID0+IHtcbiAgICAvLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV1cbiAgICByZXR1cm4gKCh0aGlzOiBhbnkpOiBTY3JvbGxSZXNwb25kZXJUeXBlKTtcbiAgfTtcblxuICBnZXRTY3JvbGxhYmxlTm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSk7XG4gIH07XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZTogKCkgPT4gP251bWJlciA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdSZWY6ICgpID0+IElubmVyVmlld0luc3RhbmNlIHwgbnVsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlO1xuICB9O1xuXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogKCkgPT4gTmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlIHwgbnVsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZTtcbiAgfTtcblxuICAvKipcbiAgICogU2Nyb2xscyB0byBhIGdpdmVuIHgsIHkgb2Zmc2V0LCBlaXRoZXIgaW1tZWRpYXRlbHkgb3Igd2l0aCBhIHNtb290aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBzY3JvbGxUbyh7eDogMCwgeTogMCwgYW5pbWF0ZWQ6IHRydWV9KWBcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbzogKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvKFxuICAgICAgdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgIHggfHwgMCxcbiAgICAgIHkgfHwgMCxcbiAgICAgIGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogKG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0sXG4gICkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIGNvbnN0IGFuaW1hdGVkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlZCkgIT09IGZhbHNlO1xuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG9FbmQodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSwgYW5pbWF0ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9yczogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNhbGxiYWNrIHRvIG9uRm9jdXMgaW4gYSBUZXh0SW5wdXRzJ1xuICAgKiBwYXJlbnQgdmlldy4gTm90ZSB0aGF0IGFueSBtb2R1bGUgdXNpbmcgdGhpcyBtaXhpbiBuZWVkcyB0byByZXR1cm5cbiAgICogdGhlIHBhcmVudCB2aWV3J3MgcmVmIGluIGdldFNjcm9sbFZpZXdSZWYoKSBpbiBvcmRlciB0byB1c2UgdGhpcyBtZXRob2QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSGFuZGxlIFRoZSBUZXh0SW5wdXQgbm9kZSBoYW5kbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGl0aW9uYWxPZmZzZXQgVGhlIHNjcm9sbCB2aWV3J3MgYm90dG9tIFwiY29udGVudEluc2V0XCIuXG4gICAqICAgICAgICBEZWZhdWx0IGlzIDAuXG4gICAqIEBwYXJhbSB7Ym9vbH0gcHJldmVudE5lZ2F0aXZlU2Nyb2xsaW5nIFdoZXRoZXIgdG8gYWxsb3cgcHVsbGluZyB0aGUgY29udGVudFxuICAgKiAgICAgICAgZG93biB0byBtYWtlIGl0IG1lZXQgdGhlIGtleWJvYXJkJ3MgdG9wLiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDogPFQ+KFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxUPj4sXG4gICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICBwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSBhZGRpdGlvbmFsT2Zmc2V0IHx8IDA7XG4gICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gISFwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5vZGVIYW5kbGUgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgICAgbm9kZUhhbmRsZSxcbiAgICAgICAgbnVsbHRocm93cyhmaW5kTm9kZUhhbmRsZSh0aGlzKSksXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVIYW5kbGUubWVhc3VyZUxheW91dChcbiAgICAgICAgdGhpcy5faW5uZXJWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gem9vbSB0byBhIHNwZWNpZmljIHJlY3QgaW4gdGhlIHNjcm9sbHZpZXcuIFRoZSBhcmd1bWVudCBoYXMgdGhlIHNoYXBlXG4gICAqIHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGFuaW1hdGVkOiBib29sZWFuID0gdHJ1ZX1cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvOiAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4gdm9pZCA9IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB7XG4gICAgaW52YXJpYW50KFBsYXRmb3JtLk9TID09PSAnaW9zJywgJ3pvb21Ub1JlY3QgaXMgbm90IGltcGxlbWVudGVkJyk7XG4gICAgaWYgKCdhbmltYXRlZCcgaW4gcmVjdCkge1xuICAgICAgdGhpcy5fYW5pbWF0ZWQgPSByZWN0LmFuaW1hdGVkO1xuICAgICAgZGVsZXRlIHJlY3QuYW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYW5pbWF0ZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsUmVzcG9uZGVyWm9vbVRvYCBgYW5pbWF0ZWRgIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFVzZSBgb3B0aW9ucy5hbmltYXRlZGAgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuem9vbVRvUmVjdChcbiAgICAgIHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICByZWN0LFxuICAgICAgYW5pbWF0ZWQgIT09IGZhbHNlLFxuICAgICk7XG4gIH07XG5cbiAgX3RleHRJbnB1dEZvY3VzRXJyb3IoKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBtZWFzdXJpbmcgdGV4dCBmaWVsZC4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsY3VsYXRpb25zIHBlcmZvcm1lZCBoZXJlIGFzc3VtZSB0aGUgc2Nyb2xsIHZpZXcgdGFrZXMgdXAgdGhlIGVudGlyZVxuICAgKiBzY3JlZW4gLSBldmVuIGlmIGhhcyBzb21lIGNvbnRlbnQgaW5zZXQuIFdlIHRoZW4gbWVhc3VyZSB0aGUgb2Zmc2V0cyBvZiB0aGVcbiAgICoga2V5Ym9hcmQsIGFuZCBjb21wZW5zYXRlIGJvdGggZm9yIHRoZSBzY3JvbGwgdmlldydzIFwiY29udGVudEluc2V0XCIuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFBvc2l0aW9uIG9mIGlucHV0IHcuci50LiB0YWJsZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgKi9cbiAgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQ6IChcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgKSA9PiB2b2lkID0gKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IGtleWJvYXJkU2NyZWVuWSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS5oZWlnaHQ7XG5cbiAgICBjb25zdCBzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwpIHtcbiAgICAgICAga2V5Ym9hcmRTY3JlZW5ZID0gdGhpcy5fa2V5Ym9hcmRNZXRyaWNzLnNjcmVlblk7XG4gICAgICB9XG4gICAgICBsZXQgc2Nyb2xsT2Zmc2V0WSA9XG4gICAgICAgIHRvcCAtIGtleWJvYXJkU2NyZWVuWSArIGhlaWdodCArIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ7XG5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIHRoaXMgY2FuIHNjcm9sbCB3aXRoIG5lZ2F0aXZlIG9mZnNldCwgcHVsbGluZyB0aGUgY29udGVudFxuICAgICAgLy8gZG93biBzbyB0aGF0IHRoZSB0YXJnZXQgY29tcG9uZW50J3MgYm90dG9tIG1lZXRzIHRoZSBrZXlib2FyZCdzIHRvcC5cbiAgICAgIC8vIElmIHJlcXVlc3RlZCBvdGhlcndpc2UsIGNhcCB0aGUgb2Zmc2V0IGF0IDAgbWluaW11bSB0byBhdm9pZCBjb250ZW50XG4gICAgICAvLyBzaGlmdGluZyBkb3duLlxuICAgICAgaWYgKHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9PT0gdHJ1ZSkge1xuICAgICAgICBzY3JvbGxPZmZzZXRZID0gTWF0aC5tYXgoMCwgc2Nyb2xsT2Zmc2V0WSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvKHt4OiAwLCB5OiBzY3JvbGxPZmZzZXRZLCBhbmltYXRlZDogdHJ1ZX0pO1xuXG4gICAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcbiAgICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5fa2V5Ym9hcmRNZXRyaWNzID09IG51bGwpIHtcbiAgICAgIC8vIGBfa2V5Ym9hcmRNZXRyaWNzYCBpcyBzZXQgaW5zaWRlIGBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93YCB3aGljaFxuICAgICAgLy8gaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgIGJ1dCBuYXRpdmUgaGFzIGFscmVhZHkgc2NoZWR1bGVkIGl0LlxuICAgICAgLy8gSW4gY2FzZSBpdCB3YXMgbm90IGNhbGxlZCBiZWZvcmUgYF9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkYCwgd2UgcG9zdHBvbmUgc2Nyb2xsaW5nIHRvXG4gICAgICAvLyB0ZXh0IGlucHV0LlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0S2V5Rm9ySW5kZXgoaW5kZXg6ICRGbG93Rml4TWUsIGNoaWxkQXJyYXk6ICRGbG93Rml4TWUpOiAkRmxvd0ZpeE1lIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkQXJyYXlbaW5kZXhdO1xuICAgIHJldHVybiBjaGlsZCAmJiBjaGlsZC5rZXk7XG4gIH1cblxuICBfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMgJiZcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCA9XG4gICAgICAgIEFuaW1hdGVkSW1wbGVtZW50YXRpb24uYXR0YWNoTmF0aXZlRXZlbnQoXG4gICAgICAgICAgdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgICAgICAnb25TY3JvbGwnLFxuICAgICAgICAgIFt7bmF0aXZlRXZlbnQ6IHtjb250ZW50T2Zmc2V0OiB7eTogdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX19fV0sXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4OiAkRmxvd0ZpeE1lLCBldmVudDogJEZsb3dGaXhNZSwga2V5OiAkRmxvd0ZpeE1lKSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXk8JEZsb3dGaXhNZT4odGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9pbm5lclZpZXc6IFJlZkZvcndhcmRlcjxJbm5lclZpZXdJbnN0YW5jZSwgSW5uZXJWaWV3SW5zdGFuY2U+ID1cbiAgICBjcmVhdGVSZWZGb3J3YXJkZXIoXG4gICAgICAoaW5zdGFuY2U6IElubmVyVmlld0luc3RhbmNlKTogSW5uZXJWaWV3SW5zdGFuY2UgPT4gaW5zdGFuY2UsXG4gICAgKTtcblxuICBfc2Nyb2xsVmlldzogUmVmRm9yd2FyZGVyPFxuICAgIE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZSxcbiAgICBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UsXG4gID4gPSBjcmVhdGVSZWZGb3J3YXJkZXIoXG4gICAgKG5hdGl2ZUluc3RhbmNlOiBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UpOiBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgPT4ge1xuICAgICAgLy8gVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiAgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgIC8vIGhvc3QgY29tcG9uZW50LiBIb3dldmVyLCBzaW5jZSBTY3JvbGxWaWV3IGhhcyBpdCdzIG93biBtZXRob2RzIHRoYXQgY2FuIGJlXG4gICAgICAvLyBjYWxsZWQgYXMgd2VsbCwgaWYgd2UgdXNlZCB0aGUgc3RhbmRhcmQgZm9yd2FyZFJlZiB0aGVuIHRoZXNlXG4gICAgICAvLyBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAvL1xuICAgICAgLy8gVGhlcmVmb3JlIHdlIGVkaXQgcmVmIHRvIGluY2x1ZGUgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzIHNvIHRoYXRcbiAgICAgIC8vIHRoZXkgYXJlIGNhbGxhYmxlIGZyb20gdGhlIHJlZi5cblxuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gS25vd24gaXNzdWUgd2l0aCBhcHBlbmRpbmcgY3VzdG9tIG1ldGhvZHMuXG4gICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZTogUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmF0aXZlSW5zdGFuY2UsXG4gICAgICAgIHtcbiAgICAgICAgICBnZXRTY3JvbGxSZXNwb25kZXI6IHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyLFxuICAgICAgICAgIGdldFNjcm9sbGFibGVOb2RlOiB0aGlzLmdldFNjcm9sbGFibGVOb2RlLFxuICAgICAgICAgIGdldElubmVyVmlld05vZGU6IHRoaXMuZ2V0SW5uZXJWaWV3Tm9kZSxcbiAgICAgICAgICBnZXRJbm5lclZpZXdSZWY6IHRoaXMuZ2V0SW5uZXJWaWV3UmVmLFxuICAgICAgICAgIGdldE5hdGl2ZVNjcm9sbFJlZjogdGhpcy5nZXROYXRpdmVTY3JvbGxSZWYsXG4gICAgICAgICAgc2Nyb2xsVG86IHRoaXMuc2Nyb2xsVG8sXG4gICAgICAgICAgc2Nyb2xsVG9FbmQ6IHRoaXMuc2Nyb2xsVG9FbmQsXG4gICAgICAgICAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiB0aGlzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycyxcbiAgICAgICAgICBzY3JvbGxSZXNwb25kZXJab29tVG86IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvLFxuICAgICAgICAgIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQsXG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcHVibGljSW5zdGFuY2U7XG4gICAgfSxcbiAgKTtcblxuICAvKipcbiAgICogV2FybmluZywgdGhpcyBtYXkgYmUgY2FsbGVkIHNldmVyYWwgdGltZXMgZm9yIGEgc2luZ2xlIGtleWJvYXJkIG9wZW5pbmcuXG4gICAqIEl0J3MgYmVzdCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhpcyBtZXRob2QgYW5kIHRoZW4gdGFrZSBhbnkgYWN0aW9uXG4gICAqIGF0IGEgbGF0ZXIgcG9pbnQgKGVpdGhlciBpbiBga2V5Ym9hcmREaWRTaG93YCBvciBvdGhlcikuXG4gICAqXG4gICAqIEhlcmUncyB0aGUgb3JkZXIgdGhhdCBldmVudHMgb2NjdXIgaW46XG4gICAqIC0gZm9jdXNcbiAgICogLSB3aWxsU2hvdyB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRTaG93IHNldmVyYWwgdGltZXNcbiAgICogLSBibHVyXG4gICAqIC0gd2lsbEhpZGUge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkSGlkZSBzZXZlcmFsIHRpbWVzXG4gICAqXG4gICAqIFRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBtb2R1bGUgY2FsbGJhY2tzIGZvciBlYWNoIG9mIHRoZXNlIGV2ZW50cy5cbiAgICogRXZlbiB0aG91Z2ggYW55IHVzZXIgY291bGQgaGF2ZSBlYXNpbHkgbGlzdGVuZWQgdG8ga2V5Ym9hcmQgZXZlbnRzXG4gICAqIHRoZW1zZWx2ZXMsIHVzaW5nIHRoZXNlIGBwcm9wc2AgY2FsbGJhY2tzIGVuc3VyZXMgdGhhdCBvcmRlcmluZyBvZiBldmVudHNcbiAgICogaXMgY29uc2lzdGVudCAtIGFuZCBub3QgZGVwZW5kZW50IG9uIHRoZSBvcmRlciB0aGF0IHRoZSBrZXlib2FyZCBldmVudHMgYXJlXG4gICAqIHN1YnNjcmliZWQgdG8uIFRoaXMgbWF0dGVycyB3aGVuIHRlbGxpbmcgdGhlIHNjcm9sbCB2aWV3IHRvIHNjcm9sbCB0byB3aGVyZVxuICAgKiB0aGUga2V5Ym9hcmQgaXMgaGVhZGVkIC0gdGhlIHNjcm9sbCByZXNwb25kZXIgYmV0dGVyIGhhdmUgYmVlbiBub3RpZmllZCBvZlxuICAgKiB0aGUga2V5Ym9hcmQgZGVzdGluYXRpb24gYmVmb3JlIGJlaW5nIGluc3RydWN0ZWQgdG8gc2Nyb2xsIHRvIHdoZXJlIHRoZVxuICAgKiBrZXlib2FyZCB3aWxsIGJlLiBTdGljayB0byB0aGUgYFNjcm9sbFJlc3BvbmRlcmAgY2FsbGJhY2tzLCBhbmQgZXZlcnl0aGluZ1xuICAgKiB3aWxsIHdvcmsuXG4gICAqXG4gICAqIFdBUk5JTkc6IFRoZXNlIGNhbGxiYWNrcyB3aWxsIGZpcmUgZXZlbiBpZiBhIGtleWJvYXJkIGlzIGRpc3BsYXllZCBpbiBhXG4gICAqIGRpZmZlcmVudCBuYXZpZ2F0aW9uIHBhbmUuIEZpbHRlciBvdXQgdGhlIGV2ZW50cyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICogcmVsZXZhbnQgdG8geW91LiAoRm9yIGV4YW1wbGUsIG9ubHkgaWYgeW91IHJlY2VpdmUgdGhlc2UgY2FsbGJhY2tzIGFmdGVyXG4gICAqIHlvdSBoYWQgZXhwbGljaXRseSBmb2N1c2VkIGEgbm9kZSBldGMpLlxuICAgKi9cblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBlLmVuZENvb3JkaW5hdGVzO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbEhpZGU6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGUoZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZE1ldHJpY3MgPSBlLmVuZENvb3JkaW5hdGVzO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGU6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsQmVnaW5gIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW46IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEVuZGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQ6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuZm9ydHVuYXRlbHksIGBvblNjcm9sbEJlZ2luRHJhZ2AgYWxzbyBmaXJlcyB3aGVuICpzdG9wcGluZyogdGhlIHNjcm9sbFxuICAgKiBhbmltYXRpb24sIGFuZCB0aGVyZSdzIG5vdCBhbiBlYXN5IHdheSB0byBkaXN0aW5ndWlzaCBhIGRyYWcgdnMuIHN0b3BwaW5nXG4gICAqIG1vbWVudHVtLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbEJlZ2luRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsQmVnaW5EcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuYmVnaW5TY3JvbGwoKTsgLy8gVE9ETzogdHJhY2sgYWxsIHNjcm9sbHMgYWZ0ZXIgaW1wbGVtZW50aW5nIG9uU2Nyb2xsRW5kQW5pbWF0aW9uXG5cbiAgICBpZiAoXG4gICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkRGlzbWlzc01vZGUgPT09ICdvbi1kcmFnJ1xuICAgICkge1xuICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbEVuZERyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEVuZERyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIC8vIC0gSWYgd2UgYXJlIGFuaW1hdGluZywgdGhlbiB0aGlzIGlzIGEgXCJkcmFnXCIgdGhhdCBpcyBzdG9wcGluZyB0aGUgc2Nyb2xsdmlldyBhbmQgbW9tZW50dW0gZW5kXG4gICAgLy8gICB3aWxsIGZpcmUuXG4gICAgLy8gLSBJZiB2ZWxvY2l0eSBpcyBub24temVybywgdGhlbiB0aGUgaW50ZXJhY3Rpb24gd2lsbCBzdG9wIHdoZW4gbW9tZW50dW0gc2Nyb2xsIGVuZHMgb3JcbiAgICAvLyAgIGFub3RoZXIgZHJhZyBzdGFydHMgYW5kIGVuZHMuXG4gICAgLy8gLSBJZiB3ZSBkb24ndCBnZXQgdmVsb2NpdHksIGJldHRlciB0byBzdG9wIHRoZSBpbnRlcmFjdGlvbiB0d2ljZSB0aGFuIG5vdCBzdG9wIGl0LlxuICAgIGlmIChcbiAgICAgICF0aGlzLl9pc0FuaW1hdGluZygpICYmXG4gICAgICAoIXZlbG9jaXR5IHx8ICh2ZWxvY2l0eS54ID09PSAwICYmIHZlbG9jaXR5LnkgPT09IDApKVxuICAgICkge1xuICAgICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRoaXMgY2xhc3MgdGhhdCBsZXRzIHVzIHF1aWNrbHkgZGV0ZXJtaW5lIGlmIHRoZVxuICAgKiB2aWV3IGlzIGN1cnJlbnRseSBhbmltYXRpbmcuIFRoaXMgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCB0byBrbm93IHdoZW5cbiAgICogYSB0b3VjaCBoYXMganVzdCBzdGFydGVkIG9yIGVuZGVkLlxuICAgKi9cbiAgX2lzQW5pbWF0aW5nOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0TW9tZW50dW1TY3JvbGxFbmQgPVxuICAgICAgbm93IC0gdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTtcbiAgICBjb25zdCBpc0FuaW1hdGluZyA9XG4gICAgICB0aW1lU2luY2VMYXN0TW9tZW50dW1TY3JvbGxFbmQgPCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TIHx8XG4gICAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lIDwgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lO1xuICAgIHJldHVybiBpc0FuaW1hdGluZztcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJHcmFudGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyR3JhbnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50KGUpO1xuICAgIHRoaXMuX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nID0gdGhpcy5faXNBbmltYXRpbmcoKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWplY3RgIGV2ZW50LlxuICAgKlxuICAgKiBTb21lIG90aGVyIGVsZW1lbnQgaXMgbm90IHlpZWxkaW5nIGl0cyByb2xlIGFzIHJlc3BvbmRlci4gTm9ybWFsbHksIHdlJ2RcbiAgICoganVzdCBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCwgYnV0IGEgdG91Y2ggaGFzIGFscmVhZHkgYmVnYW4gb24gaXQsIHRoZVxuICAgKiBgVUlTY3JvbGxWaWV3YCB3aWxsIG5vdCBhY2NlcHQgYmVpbmcgZGlzYWJsZWQgYWZ0ZXIgdGhhdC4gVGhlIGVhc2llc3RcbiAgICogc29sdXRpb24gZm9yIG5vdyBpcyB0byBhY2NlcHQgdGhlIGxpbWl0YXRpb24gb2YgZGlzYWxsb3dpbmcgdGhpc1xuICAgKiBhbHRvZ2V0aGVyLiBUbyBpbXByb3ZlIHRoaXMsIGZpbmQgYSB3YXkgdG8gZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AgYWZ0ZXJcbiAgICogYSB0b3VjaCBoYXMgYWxyZWFkeSBzdGFydGVkLlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclJlamVjdDogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlbGVhc2VgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlclJlbGVhc2U6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gZS5uYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcbiAgICB0aGlzLnByb3BzLm9uUmVzcG9uZGVyUmVsZWFzZSAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyUmVsZWFzZShlKTtcblxuICAgIGlmICh0eXBlb2YgZS50YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBldmVudCB0YXJnZXQgdG8gYmUgYSBudW1iZXIuIFNob3VsZCBoYXZlIGJlZW4gYSBuYXRpdmUgY29tcG9uZW50JyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQgc2Nyb2xsIHZpZXdzIHdpbGwgdW5mb2N1cyBhIHRleHRGaWVsZFxuICAgIC8vIGlmIGFub3RoZXIgdG91Y2ggb2NjdXJzIG91dHNpZGUgb2YgaXRcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09IHRydWUgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gJ2Fsd2F5cycgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAmJlxuICAgICAgIXRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciAmJlxuICAgICAgIXRoaXMuX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nXG4gICAgKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5ibHVyVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2Ugd2lsbCBhbGxvdyB0aGUgc2Nyb2xsIHZpZXcgdG8gZ2l2ZSB1cCBpdHMgbG9jayBpZmYgaXQgYWNxdWlyZWQgdGhlIGxvY2tcbiAgICogZHVyaW5nIGFuIGFuaW1hdGlvbi4gVGhpcyBpcyBhIHZlcnkgdXNlZnVsIGRlZmF1bHQgdGhhdCBoYXBwZW5zIHRvIHNhdGlzZnlcbiAgICogbWFueSBjb21tb24gdXNlciBleHBlcmllbmNlcy5cbiAgICpcbiAgICogLSBTdG9wIGEgc2Nyb2xsIG9uIHRoZSBsZWZ0IGVkZ2UsIHRoZW4gdHVybiB0aGF0IGludG8gYW4gb3V0ZXIgdmlldydzXG4gICAqICAgYmFja3N3aXBlLlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgbWlkLWJvdW5jZSBhdCB0aGUgdG9wLCBjb250aW51ZSBwdWxsaW5nIHRvIGhhdmUgdGhlIG91dGVyXG4gICAqICAgdmlldyBkaXNtaXNzLlxuICAgKiAtIEhvd2V2ZXIsIHdpdGhvdXQgY2F0Y2hpbmcgdGhlIHNjcm9sbCB2aWV3IG1pZC1ib3VuY2UgKHdoaWxlIGl0IGlzXG4gICAqICAgbW90aW9ubGVzcyksIGlmIHlvdSBkcmFnIGZhciBlbm91Z2ggZm9yIHRoZSBzY3JvbGwgdmlldyB0byBiZWNvbWVcbiAgICogICByZXNwb25kZXIgKGFuZCB0aGVyZWZvcmUgZHJhZyB0aGUgc2Nyb2xsIHZpZXcgYSBiaXQpLCBhbnkgYmFja3N3aXBlXG4gICAqICAgbmF2aWdhdGlvbiBvZiBhIHN3aXBlIGdlc3R1cmUgaGlnaGVyIGluIHRoZSB2aWV3IGhpZXJhcmNoeSwgc2hvdWxkIGJlXG4gICAqICAgcmVqZWN0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIHJldHVybiAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblNjcm9sbGAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pc1RvdWNoaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXJlbHkgdG91Y2ggc3RhcnRpbmcgaXMgbm90IHN1ZmZpY2llbnQgZm9yIGEgc2Nyb2xsIHZpZXcgdG8gYmVjb21lIHRoZVxuICAgKiByZXNwb25kZXIuIEJlaW5nIHRoZSBcInJlc3BvbmRlclwiIG1lYW5zIHRoYXQgdGhlIHZlcnkgbmV4dCB0b3VjaCBtb3ZlL2VuZFxuICAgKiBldmVudCB3aWxsIHJlc3VsdCBpbiBhbiBhY3Rpb24vbW92ZW1lbnQuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgIGV2ZW50LlxuICAgKlxuICAgKiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgaXMgdXNlZCB3aGVuIHRoZSBuZXh0IG1vdmUvZW5kIHdpbGwgdHJpZ2dlclxuICAgKiBzb21lIFVJIG1vdmVtZW50L2FjdGlvbiwgYnV0IHdoZW4geW91IHdhbnQgdG8geWllbGQgcHJpb3JpdHkgdG8gdmlld3NcbiAgICogbmVzdGVkIGluc2lkZSBvZiB0aGUgdmlldy5cbiAgICpcbiAgICogVGhlcmUgbWF5IGJlIHNvbWUgY2FzZXMgd2hlcmUgc2Nyb2xsIHZpZXdzIGFjdHVhbGx5IHNob3VsZCByZXR1cm4gYHRydWVgXG4gICAqIGZyb20gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJgOiBBbnkgdGltZSB3ZSBhcmUgZGV0ZWN0aW5nIGEgc3RhbmRhcmQgdGFwXG4gICAqIHRoYXQgZ2l2ZXMgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzLlxuICAgKlxuICAgKiAtIElmIGEgc2luZ2xlIHRhcCBvbiB0aGUgc2Nyb2xsIHZpZXcgdHJpZ2dlcnMgYW4gYWN0aW9uIHN1Y2ggYXNcbiAgICogICByZWNlbnRlcmluZyBhIG1hcCBzdHlsZSB2aWV3IHlldCB3YW50cyB0byBnaXZlIHByaW9yaXR5IHRvIGludGVyYWN0aW9uXG4gICAqICAgdmlld3MgaW5zaWRlIChzdWNoIGFzIGRyb3BwZWQgcGlucyBvciBsYWJlbHMpLCB0aGVuIHdlIHdvdWxkIHJldHVybiB0cnVlXG4gICAqICAgZnJvbSB0aGlzIG1ldGhvZCB3aGVuIHRoZXJlIGlzIGEgc2luZ2xlIHRvdWNoLlxuICAgKlxuICAgKiAtIFNpbWlsYXIgdG8gdGhlIHByZXZpb3VzIGNhc2UsIGlmIGEgdHdvIGZpbmdlciBcInRhcFwiIHNob3VsZCB0cmlnZ2VyIGFcbiAgICogICB6b29tLCB3ZSB3b3VsZCBjaGVjayB0aGUgYHRvdWNoZXNgIGNvdW50LCBhbmQgaWYgYD49IDJgLCB3ZSB3b3VsZCByZXR1cm5cbiAgICogICB0cnVlLlxuICAgKlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2hhbmRsZWQnICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRJbnB1dFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlcmUgYXJlIHRpbWVzIHdoZW4gdGhlIHNjcm9sbCB2aWV3IHdhbnRzIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyXG4gICAqIChtZWFuaW5nIHJlc3BvbmQgdG8gdGhlIG5leHQgaW1tZWRpYXRlIGB0b3VjaFN0YXJ0L3RvdWNoRW5kYCksIGluIGEgd2F5XG4gICAqIHRoYXQgKmRvZXNuJ3QqIGdpdmUgcHJpb3JpdHkgdG8gbmVzdGVkIHZpZXdzIChoZW5jZSB0aGUgY2FwdHVyZSBwaGFzZSk6XG4gICAqXG4gICAqIC0gQ3VycmVudGx5IGFuaW1hdGluZy5cbiAgICogLSBUYXBwaW5nIGFueXdoZXJlIHRoYXQgaXMgbm90IGEgdGV4dCBpbnB1dCwgd2hpbGUgdGhlIGtleWJvYXJkIGlzXG4gICAqICAgdXAgKHdoaWNoIHNob3VsZCBkaXNtaXNzIHRoZSBrZXlib2FyZCkuXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmU6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIFRoZSBzY3JvbGwgdmlldyBzaG91bGQgcmVjZWl2ZSB0YXBzIGluc3RlYWQgb2YgaXRzIGRlc2NlbmRhbnRzIGlmOlxuICAgIC8vICogaXQgaXMgYWxyZWFkeSBhbmltYXRpbmcvZGVjZWxlcmF0aW5nXG4gICAgaWYgKHRoaXMuX2lzQW5pbWF0aW5nKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gKiB0aGUga2V5Ym9hcmQgaXMgdXAsIGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgaXMgJ25ldmVyJyAodGhlIGRlZmF1bHQpLFxuICAgIC8vIGFuZCBhIG5ldyB0b3VjaCBzdGFydHMgd2l0aCBhIG5vbi10ZXh0aW5wdXQgdGFyZ2V0IChpbiB3aGljaCBjYXNlIHRoZVxuICAgIC8vIGZpcnN0IHRhcCBzaG91bGQgYmUgc2VudCB0byB0aGUgc2Nyb2xsIHZpZXcgYW5kIGRpc21pc3MgdGhlIGtleWJvYXJkLFxuICAgIC8vIHRoZW4gdGhlIHNlY29uZCB0YXAgZ29lcyB0byB0aGUgYWN0dWFsIGludGVyaW9yIHZpZXcpXG4gICAgY29uc3Qge2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHN9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgPVxuICAgICAgIWtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgfHwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ25ldmVyJztcblxuICAgIGlmICh0eXBlb2YgZS50YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBldmVudCB0YXJnZXQgdG8gYmUgYSBudW1iZXIuIFNob3VsZCBoYXZlIGJlZW4gYSBuYXRpdmUgY29tcG9uZW50JyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIExldCBwcmVzc2VzIHRocm91Z2ggaWYgdGhlIHNvZnQga2V5Ym9hcmQgaXMgZGV0YWNoZWQgZnJvbSB0aGUgdmlld3BvcnRcbiAgICBpZiAodGhpcy5fc29mdEtleWJvYXJkSXNEZXRhY2hlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAgZS50YXJnZXQgIT0gbnVsbCAmJlxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbiAgICAgICFUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChlLnRhcmdldClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRG8gd2UgY29uc2lkZXIgdGhlcmUgdG8gYmUgYSBkaXNtaXNzaWJsZSBzb2Z0LWtleWJvYXJkIG9wZW4/XG4gICAqL1xuICBfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuXG4gICAgLy8gV2UgY2Fubm90IGRpc21pc3MgdGhlIGtleWJvYXJkIHdpdGhvdXQgYW4gaW5wdXQgdG8gYmx1ciwgZXZlbiBpZiBhIHNvZnRcbiAgICAvLyBrZXlib2FyZCBpcyBvcGVuIChlLmcuIHdoZW4ga2V5Ym9hcmQgaXMgb3BlbiBkdWUgdG8gYSBuYXRpdmUgY29tcG9uZW50XG4gICAgLy8gbm90IHBhcnRpY2lwYXRpbmcgaW4gVGV4dElucHV0U3RhdGUpLiBJdCdzIGFsc28gcG9zc2libGUgdGhhdCB0aGVcbiAgICAvLyBjdXJyZW50bHkgZm9jdXNlZCBpbnB1dCBpc24ndCBhIFRleHRJbnB1dCAoc3VjaCBhcyBieSBjYWxsaW5nIHJlZi5mb2N1c1xuICAgIC8vIG9uIGEgbm9uLVRleHRJbnB1dCkuXG4gICAgY29uc3QgaGFzRm9jdXNlZFRleHRJbnB1dCA9XG4gICAgICBjdXJyZW50bHlGb2N1c2VkSW5wdXQgIT0gbnVsbCAmJlxuICAgICAgVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZElucHV0KTtcblxuICAgIC8vIEV2ZW4gaWYgYW4gaW5wdXQgaXMgZm9jdXNlZCwgd2UgbWF5IG5vdCBoYXZlIGEga2V5Ym9hcmQgdG8gZGlzbWlzcy4gRS5nXG4gICAgLy8gd2hlbiB1c2luZyBhIHBoeXNpY2FsIGtleWJvYXJkLiBFbnN1cmUgd2UgaGF2ZSBhbiBldmVudCBmb3IgYW4gb3BlbmVkXG4gICAgLy8ga2V5Ym9hcmQuXG4gICAgY29uc3Qgc29mdEtleWJvYXJkTWF5QmVPcGVuID1cbiAgICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsIHx8IHRoaXMuX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZSgpO1xuXG4gICAgcmV0dXJuIGhhc0ZvY3VzZWRUZXh0SW5wdXQgJiYgc29mdEtleWJvYXJkTWF5QmVPcGVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGFuIG9wZW4gc29mdCBrZXlib2FyZCBpcyBwcmVzZW50IHdoaWNoIGRvZXMgbm90IG92ZXJsYXAgdGhlXG4gICAqIHZpZXdwb3J0LiBFLmcuIGZvciBhIFZSIHNvZnQta2V5Ym9hcmQgd2hpY2ggaXMgZGV0YWNoZWQgZnJvbSB0aGUgYXBwXG4gICAqIHZpZXdwb3J0LlxuICAgKi9cbiAgX3NvZnRLZXlib2FyZElzRGV0YWNoZWQ6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2tleWJvYXJkTWV0cmljcyAhPSBudWxsICYmIHRoaXMuX2tleWJvYXJkTWV0cmljcy5oZWlnaHQgPT09IDA7XG4gIH07XG5cbiAgX2tleWJvYXJkRXZlbnRzQXJlVW5yZWxpYWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICAvLyBBbmRyb2lkIHZlcnNpb25zIHByaW9yIHRvIEFQSSAzMCByZWx5IG9uIG9ic2VydmluZyBsYXlvdXQgY2hhbmdlcyB3aGVuXG4gICAgLy8gYGFuZHJvaWQ6d2luZG93U29mdElucHV0TW9kZWAgaXMgc2V0IHRvIGBhZGp1c3RSZXNpemVgIG9yIGBhZGp1c3RQYW5gLlxuICAgIHJldHVybiBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIFBsYXRmb3JtLlZlcnNpb24gPCAzMDtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaEVuZGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaEVuZDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZUV2ZW50ID0gZS5uYXRpdmVFdmVudDtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gbmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG5cbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMgPVxuICAgICAgIWtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgfHwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ25ldmVyJztcblxuICAgIC8vIERpc21pc3MgdGhlIGtleWJvYXJkIG5vdyBpZiB3ZSBkaWRuJ3QgYmVjb21lIHJlc3BvbmRlciBpbiBjYXB0dXJlIHBoYXNlXG4gICAgLy8gdG8gZWF0IHByZXNzZXMsIGJ1dCBzdGlsbCB3YW50IHRvIGRpc21pc3Mgb24gaW50ZXJhY3Rpb24uXG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhlIHRhcmdldCBvZiB0aGUgdG91Y2ggZXZlbnQgaXMgdGhlIGN1cnJlbnQgaW5wdXQuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgIT0gbnVsbCAmJlxuICAgICAgZS50YXJnZXQgIT09IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgJiZcbiAgICAgIHRoaXMuX3NvZnRLZXlib2FyZElzRGV0YWNoZWQoKSAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHNcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblRvdWNoRW5kICYmIHRoaXMucHJvcHMub25Ub3VjaEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaENhbmNlbGAgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBFdmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaENhbmNlbDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwgJiYgdGhpcy5wcm9wcy5vblRvdWNoQ2FuY2VsKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoU3RhcnRgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaFN0YXJ0OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQgJiYgdGhpcy5wcm9wcy5vblRvdWNoU3RhcnQoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hNb3ZlYCBldmVudC5cbiAgICpcbiAgICogU2luY2Ugd2Uga25vdyB0aGF0IHRoZSBgU2ltcGxlRXZlbnRQbHVnaW5gIG9jY3VycyBsYXRlciBpbiB0aGUgcGx1Z2luXG4gICAqIG9yZGVyLCBhZnRlciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLCB3ZSBjYW4gZGV0ZWN0IHRoYXQgd2Ugd2VyZSAqbm90KlxuICAgKiBwZXJtaXR0ZWQgdG8gYmUgdGhlIHJlc3BvbmRlciAocHJlc3VtYWJseSBiZWNhdXNlIGEgY29udGFpbmVkIHZpZXcgYmVjYW1lXG4gICAqIHJlc3BvbmRlcikuIFRoZSBgb25SZXNwb25kZXJSZWplY3RgIHdvbid0IGZpcmUgaW4gdGhhdCBjYXNlIC0gaXQgb25seVxuICAgKiBmaXJlcyB3aGVuIGEgKmN1cnJlbnQqIHJlc3BvbmRlciByZWplY3RzIG91ciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByZXNzRXZlbnR9IGUgVG91Y2ggU3RhcnQgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlVG91Y2hNb3ZlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblRvdWNoTW92ZSAmJiB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlKGUpO1xuICB9O1xuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHwgUmVhY3QuRWxlbWVudDxzdHJpbmc+IHtcbiAgICBjb25zdCBbTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3LCBOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3XSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlXG4gICAgICAgIDogTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUsXG4gICAgXTtcbiAgICBpZiAoX19ERVZfXyAmJiB0aGlzLnByb3BzLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIHByb3AgPT4gc3R5bGUgJiYgc3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNoaWxkTGF5b3V0UHJvcHMubGVuZ3RoID09PSAwLFxuICAgICAgICAnU2Nyb2xsVmlldyBjaGlsZCBsYXlvdXQgKCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNoaWxkTGF5b3V0UHJvcHMpICtcbiAgICAgICAgICAnKSBtdXN0IGJlIGFwcGxpZWQgdGhyb3VnaCB0aGUgY29udGVudENvbnRhaW5lclN0eWxlIHByb3AuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgPT0gbnVsbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlQ29udGVudE9uTGF5b3V0LFxuICAgICAgICAgIH07XG5cbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gY2F1c2UgdW5uZWNlc3NhcnkgcmVtb3VudCB3aGVuIG5lc3RlZCBpbiBjb25kaXRpb25hbHMgYXMgaXQgY2F1c2VzIHJlbWFwIG9mIGNoaWxkcmVuIGtleXMuXG4gICAgICogaHR0cHM6Ly9yZWFjdC5kZXYvcmVmZXJlbmNlL3JlYWN0L0NoaWxkcmVuI2NoaWxkcmVuLXRvYXJyYXktY2F2ZWF0c1xuICAgICAqL1xuICAgIGNoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheTwkRmxvd0ZpeE1lPihjaGlsZHJlbik7XG5cbiAgICBpZiAoc3RpY2t5SGVhZGVySW5kaWNlcyAhPSBudWxsICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleE9mSW5kZXggPSBjaGlsZCA/IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCkgOiAtMTtcbiAgICAgICAgaWYgKGluZGV4T2ZJbmRleCA+IC0xKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4ICsgMV07XG4gICAgICAgICAgY29uc3QgU3RpY2t5SGVhZGVyQ29tcG9uZW50ID1cbiAgICAgICAgICAgIHRoaXMucHJvcHMuU3RpY2t5SGVhZGVyQ29tcG9uZW50IHx8IFNjcm9sbFZpZXdTdGlja3lIZWFkZXI7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTdGlja3lIZWFkZXJDb21wb25lbnRcbiAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX3NldFN0aWNreUhlYWRlclJlZihrZXksIHJlZil9XG4gICAgICAgICAgICAgIG5leHRIZWFkZXJMYXlvdXRZPXt0aGlzLl9oZWFkZXJMYXlvdXRZcy5nZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZHJlbiksXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIG9uTGF5b3V0PXtldmVudCA9PiB0aGlzLl9vblN0aWNreUhlYWRlckxheW91dChpbmRleCwgZXZlbnQsIGtleSl9XG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGVkVmFsdWU9e3RoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWV9XG4gICAgICAgICAgICAgIGludmVydGVkPXt0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnN9XG4gICAgICAgICAgICAgIGhpZGRlbk9uU2Nyb2xsPXt0aGlzLnByb3BzLnN0aWNreUhlYWRlckhpZGRlbk9uU2Nyb2xsfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8U2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSA/IEhPUklaT05UQUwgOiBWRVJUSUNBTH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2Nyb2xsVmlld0NvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxuICAgIGNvbnN0IGhhc1N0aWNreUhlYWRlcnMgPVxuICAgICAgQXJyYXkuaXNBcnJheShzdGlja3lIZWFkZXJJbmRpY2VzKSAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDA7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gKFxuICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXdcbiAgICAgICAgey4uLmNvbnRlbnRTaXplQ2hhbmdlUHJvcHN9XG4gICAgICAgIHJlZj17dGhpcy5faW5uZXJWaWV3LmdldEZvcndhcmRpbmdSZWYodGhpcy5wcm9wcy5pbm5lclZpZXdSZWYpfVxuICAgICAgICBzdHlsZT17Y29udGVudENvbnRhaW5lclN0eWxlfVxuICAgICAgICByZW1vdmVDbGlwcGVkU3Vidmlld3M9e1xuICAgICAgICAgIC8vIFN1YnZpZXcgY2xpcHBpbmcgY2F1c2VzIGlzc3VlcyB3aXRoIHN0aWNreSBoZWFkZXJzIG9uIEFuZHJvaWQgYW5kXG4gICAgICAgICAgLy8gd291bGQgYmUgaGFyZCB0byBmaXggcHJvcGVybHkgaW4gYSBwZXJmb3JtYW50IHdheS5cbiAgICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnICYmIGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICAgIDogdGhpcy5wcm9wcy5yZW1vdmVDbGlwcGVkU3Vidmlld3NcbiAgICAgICAgfVxuICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXc+XG4gICAgKTtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZUhvcml6b250YWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWxcbiAgICAgICAgOiB0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VWZXJ0aWNhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZVZlcnRpY2FsXG4gICAgICAgIDogIXRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGJhc2VTdHlsZSA9XG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWVcbiAgICAgICAgPyBzdHlsZXMuYmFzZUhvcml6b250YWxcbiAgICAgICAgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGFsd2F5c0JvdW5jZUhvcml6b250YWwsXG4gICAgICBhbHdheXNCb3VuY2VWZXJ0aWNhbCxcbiAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoYmFzZVN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKSxcbiAgICAgIC8vIE92ZXJyaWRlIHRoZSBvbkNvbnRlbnRTaXplQ2hhbmdlIGZyb20gcHJvcHMsIHNpbmNlIHRoaXMgZXZlbnQgY2FuXG4gICAgICAvLyBidWJibGUgdXAgZnJvbSBUZXh0SW5wdXRzXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiBudWxsLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUxheW91dCxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy5faGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9oYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEVuZERyYWcsXG4gICAgICBvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTpcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5faGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5faGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuICAgIGNvbnN0IHNjcm9sbFZpZXdSZWYgPSB0aGlzLl9zY3JvbGxWaWV3LmdldEZvcndhcmRpbmdSZWYoXG4gICAgICB0aGlzLnByb3BzLnNjcm9sbFZpZXdSZWYsXG4gICAgKTtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldyB7Li4ucHJvcHN9IHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7cmVmcmVzaENvbnRyb2x9XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIG91dGVyKX0sXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIHJlZj17c2Nyb2xsVmlld1JlZn0+XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICA8L05hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlldz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZVZlcnRpY2FsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGJhc2VIb3Jpem9udGFsOiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgZmxleFNocmluazogMSxcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gIH0sXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG59KTtcblxudHlwZSBGb3J3YXJkZWRSZWY8VD4gPSB7Y3VycmVudDogbnVsbCB8IFQsIC4uLn0gfCAoKG51bGwgfCBUKSA9PiBtaXhlZCk7XG5cbnR5cGUgUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiA9IHtcbiAgZ2V0Rm9yd2FyZGluZ1JlZjogKFxuICAgID9Gb3J3YXJkZWRSZWY8VFB1YmxpY0luc3RhbmNlPixcbiAgKSA9PiAoVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCkgPT4gdm9pZCxcbiAgbmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwsXG4gIHB1YmxpY0luc3RhbmNlOiBUUHVibGljSW5zdGFuY2UgfCBudWxsLFxufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBgdXNlQ2FsbGJhY2tgIGFuZCBgdXNlTWVyZ2VSZWZzYFxuICogb25jZSBgU2Nyb2xsVmlld2AgaXMgcmVpbXBsZW1lbnRlZCBhcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+KFxuICBtdXRhdG9yOiBUTmF0aXZlSW5zdGFuY2UgPT4gVFB1YmxpY0luc3RhbmNlLFxuKTogUmVmRm9yd2FyZGVyPFROYXRpdmVJbnN0YW5jZSwgVFB1YmxpY0luc3RhbmNlPiB7XG4gIGNvbnN0IHN0YXRlOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICAgIGdldEZvcndhcmRpbmdSZWY6IG1lbW9pemUoZm9yd2FyZGVkUmVmID0+IHtcbiAgICAgIHJldHVybiAobmF0aXZlSW5zdGFuY2U6IFROYXRpdmVJbnN0YW5jZSB8IG51bGwpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAgIG5hdGl2ZUluc3RhbmNlID09IG51bGwgPyBudWxsIDogbXV0YXRvcihuYXRpdmVJbnN0YW5jZSk7XG5cbiAgICAgICAgc3RhdGUubmF0aXZlSW5zdGFuY2UgPSBuYXRpdmVJbnN0YW5jZTtcbiAgICAgICAgc3RhdGUucHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZTtcblxuICAgICAgICBpZiAoZm9yd2FyZGVkUmVmICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZvcndhcmRlZFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmKHB1YmxpY0luc3RhbmNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yd2FyZGVkUmVmLmN1cnJlbnQgPSBwdWJsaWNJbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSksXG4gICAgbmF0aXZlSW5zdGFuY2U6IG51bGwsXG4gICAgcHVibGljSW5zdGFuY2U6IG51bGwsXG4gIH07XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKiAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdIFRoZSB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnkgRmxvdydzXG4gKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuZnVuY3Rpb24gV3JhcHBlcihwcm9wcywgcmVmOiAobWl4ZWQgPT4gbWl4ZWQpIHwge2N1cnJlbnQ6IG1peGVkLCAuLi59KSB7XG4gIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IHNjcm9sbFZpZXdSZWY9e3JlZn0gLz47XG59XG5XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF1cbmNvbnN0IEZvcndhcmRlZFNjcm9sbFZpZXcgPSBSZWFjdC5mb3J3YXJkUmVmKFdyYXBwZXIpO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gQWRkIHN0YXRpYyBjb250ZXh0IHRvIEZvcndhcmRlZFNjcm9sbFZpZXdcbkZvcndhcmRlZFNjcm9sbFZpZXcuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlLFxuPiAmXG4gIFNjcm9sbFZpZXdDb21wb25lbnRTdGF0aWNzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUF5QkEsSUFBQUEsdUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGdCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxjQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxrQkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sV0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sV0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsZ0JBQUEsR0FBQVQsc0JBQUEs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